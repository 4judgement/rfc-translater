{
  "title": {
    "text": "RFC 8379 - OSPF Graceful Link Shutdown",
    "ja": "RFC 8379 - OSPFグレースフルリンクシャットダウン"
  },
  "number": 8379,
  "created_at": "2020-08-23 14:55:09.071915+09:00",
  "updated_by": "",
  "contents": [
    {
      "indent": 0,
      "text": "Internet Engineering Task Force (IETF)                          S. Hegde\nRequest for Comments: 8379                        Juniper Networks, Inc.\nCategory: Standards Track                                      P. Sarkar\nISSN: 2070-1721                                             Arrcus, Inc.\n                                                              H. Gredler\n                                                            RtBrick Inc.\n                                                              M. Nanduri\n                                                        ebay Corporation\n                                                                L. Jalil\n                                                                 Verizon\n                                                                May 2018",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 22,
      "text": "OSPF Graceful Link Shutdown",
      "ja": "OSPFグレースフルリンクシャットダウン"
    },
    {
      "indent": 0,
      "text": "Abstract",
      "ja": "概要"
    },
    {
      "indent": 3,
      "text": "When a link is being prepared to be taken out of service, the traffic needs to be diverted from both ends of the link. Increasing the metric to the highest value on one side of the link is not sufficient to divert the traffic flowing in the other direction.",
      "ja": "リンクがサービスを停止する準備ができている場合、トラフィックはリンクの両端から迂回する必要があります。リンクの片側でメトリックを最大値に増やすだけでは、反対方向に流れるトラフィックを迂回させるのに十分ではありません。"
    },
    {
      "indent": 3,
      "text": "It is useful for the routers in an OSPFv2 or OSPFv3 routing domain to be able to advertise a link as being in a graceful-shutdown state to indicate impending maintenance activity on the link. This information can be used by the network devices to reroute the traffic effectively.",
      "ja": "OSPFv2またはOSPFv3ルーティングドメイン内のルーターがリンクをグレースフルシャットダウン状態にあることをアドバタイズして、リンクのメンテナンスアクティビティが差し迫っていることを示すことができると便利です。ネットワークデバイスはこの情報を使用して、トラフィックを効果的に再ルーティングできます。"
    },
    {
      "indent": 3,
      "text": "This document describes the protocol extensions to disseminate graceful-link-shutdown information in OSPFv2 and OSPFv3.",
      "ja": "このドキュメントでは、OSPFv2およびOSPFv3でグレースフルリンクシャットダウン情報を配布するためのプロトコル拡張について説明します。"
    },
    {
      "indent": 0,
      "text": "Status of This Memo",
      "ja": "本文書の状態"
    },
    {
      "indent": 3,
      "text": "This is an Internet Standards Track document.",
      "ja": "これはInternet Standards Trackドキュメントです。"
    },
    {
      "indent": 3,
      "text": "This document is a product of the Internet Engineering Task Force (IETF). It represents the consensus of the IETF community. It has received public review and has been approved for publication by the Internet Engineering Steering Group (IESG). Further information on Internet Standards is available in Section 2 of RFC 7841.",
      "ja": "このドキュメントは、IETF（Internet Engineering Task Force）の製品です。これは、IETFコミュニティのコンセンサスを表しています。公開レビューを受け、インターネットエンジニアリングステアリンググループ（IESG）による公開が承認されました。インターネット標準の詳細については、RFC 7841のセクション2をご覧ください。"
    },
    {
      "indent": 3,
      "text": "Information about the current status of this document, any errata, and how to provide feedback on it may be obtained at https://www.rfc-editor.org/info/rfc8379.",
      "ja": "このドキュメントの現在のステータス、エラータ、およびフィードバックの提供方法に関する情報は、https：//www.rfc-editor.org/info/rfc8379で入手できます。"
    },
    {
      "indent": 0,
      "text": "Copyright Notice",
      "ja": "著作権表示"
    },
    {
      "indent": 3,
      "text": "Copyright (c) 2018 IETF Trust and the persons identified as the document authors. All rights reserved.",
      "ja": "Copyright（c）2018 IETF Trustおよびドキュメントの作成者として識別された人物。全著作権所有。"
    },
    {
      "indent": 3,
      "text": "This document is subject to BCP 78 and the IETF Trust's Legal Provisions Relating to IETF Documents (https://trustee.ietf.org/license-info) in effect on the date of publication of this document. Please review these documents carefully, as they describe your rights and restrictions with respect to this document. Code Components extracted from this document must include Simplified BSD License text as described in Section 4.e of the Trust Legal Provisions and are provided without warranty as described in the Simplified BSD License.",
      "ja": "この文書は、BCP 78およびIETF文書に関するIETFトラストの法的規定（https://trustee.ietf.org/license-info）の対象であり、この文書の発行日に有効です。これらのドキュメントは、このドキュメントに関するあなたの権利と制限を説明しているため、注意深く確認してください。このドキュメントから抽出されたコードコンポーネントには、Trust Legal Provisionsのセクション4.eに記載されているSimplified BSD Licenseのテキストが含まれている必要があり、Simplified BSD Licenseに記載されているように保証なしで提供されます。"
    },
    {
      "indent": 0,
      "text": "Table of Contents",
      "ja": "目次"
    },
    {
      "indent": 3,
      "text": "1.  Introduction  . . . . . . . . . . . . . . . . . . . . . . . .   3\n  1.1.  Requirements Language . . . . . . . . . . . . . . . . . .   3\n2.  Motivation  . . . . . . . . . . . . . . . . . . . . . . . . .   3\n3.  Flooding Scope  . . . . . . . . . . . . . . . . . . . . . . .   4\n4.  Protocol Extensions . . . . . . . . . . . . . . . . . . . . .   4\n  4.1.  OSPFv2 Graceful-Link-Shutdown Sub-TLV . . . . . . . . . .   4\n  4.2.  Remote IPv4 Address Sub-TLV . . . . . . . . . . . . . . .   4\n  4.3.  Local/Remote Interface ID Sub-TLV . . . . . . . . . . . .   5\n  4.4.  OSPFv3 Graceful-Link-Shutdown Sub-TLV . . . . . . . . . .   6\n  4.5.  BGP-LS Graceful-Link-Shutdown TLV . . . . . . . . . . . .   6\n  4.6.  Distinguishing Parallel Links . . . . . . . . . . . . . .   7\n5.  Elements of Procedure . . . . . . . . . . . . . . . . . . . .   8\n  5.1.  Point-to-Point Links  . . . . . . . . . . . . . . . . . .   8\n  5.2.  Broadcast/NBMA Links  . . . . . . . . . . . . . . . . . .   9\n  5.3.  Point-to-Multipoint Links . . . . . . . . . . . . . . . .  10\n  5.4.  Unnumbered Interfaces . . . . . . . . . . . . . . . . . .  10\n  5.5.  Hybrid Broadcast and P2MP Interfaces  . . . . . . . . . .  10\n6.  Backward Compatibility  . . . . . . . . . . . . . . . . . . .  10\n7.  Applications  . . . . . . . . . . . . . . . . . . . . . . . .  11\n  7.1.  Overlay Network . . . . . . . . . . . . . . . . . . . . .  11\n  7.2.  Controller-Based Deployments  . . . . . . . . . . . . . .  12\n  7.3.  L3VPN Services and Sham Links . . . . . . . . . . . . . .  13\n  7.4.  Hub and Spoke Deployment  . . . . . . . . . . . . . . . .  13\n8.  Security Considerations . . . . . . . . . . . . . . . . . . .  13\n9.  IANA Considerations . . . . . . . . . . . . . . . . . . . . .  14\n10. References  . . . . . . . . . . . . . . . . . . . . . . . . .  14\n  10.1.  Normative References . . . . . . . . . . . . . . . . . .  14\n  10.2.  Informative References . . . . . . . . . . . . . . . . .  16\nAcknowledgements  . . . . . . . . . . . . . . . . . . . . . . . .  16\nAuthors' Addresses  . . . . . . . . . . . . . . . . . . . . . . .  17",
      "raw": true,
      "toc": true,
      "ja": ""
    },
    {
      "indent": 0,
      "text": "1. Introduction",
      "section_title": true,
      "ja": "1. はじめに"
    },
    {
      "indent": 3,
      "text": "This document describes a mechanism for gracefully taking a link out of service while allowing it to be used if no other path is available. It also provides a mechanism to divert the traffic from both directions of the link.",
      "ja": "このドキュメントでは、他のパスが利用できない場合にリンクを使用できるようにする一方で、リンクを適切にサービスから外すためのメカニズムについて説明します。また、リンクの両方向からトラフィックを迂回させるメカニズムも提供します。"
    },
    {
      "indent": 3,
      "text": "Many OSPFv2 or OSPFv3 deployments run on overlay networks provisioned by means of pseudowires or L2 circuits. Prior to devices in the underlying network going offline for maintenance, it is useful to divert the traffic away from the node before maintenance is actually performed. Since the nodes in the underlying network are not visible to OSPF, the existing stub-router mechanism described in [RFC6987] cannot be used. In a service provider's network, there may be many CE-to-CE connections that run over a single PE. It is cumbersome to change the metric on every CE-to-CE connection in both directions. This document provides a mechanism to change the metric of the link on the remote side and also use the link as a last-resort link if no alternate paths are available. An application specific to this use case is described in detail in Section 7.1.",
      "ja": "多くのOSPFv2またはOSPFv3展開は、疑似配線またはL2回線によってプロビジョニングされたオーバーレイネットワークで実行されます。基盤となるネットワーク内のデバイスがメンテナンスのためにオフラインになる前に、メンテナンスが実際に実行される前に、トラフィックをノードからそらすと便利です。基盤となるネットワークのノードはOSPFから見えないため、[RFC6987]で説明されている既存のスタブルーターメカニズムは使用できません。サービスプロバイダーのネットワークでは、単一のPE上で実行されるCE間の接続が多数存在する場合があります。双方向のすべてのCE-to-CE接続でメトリックを変更するのは面倒です。このドキュメントは、リモート側のリンクのメトリックを変更するメカニズムを提供します。また、代替パスが利用できない場合は、リンクを最後の手段として使用します。このユースケースに固有のアプリケーションについては、セクション7.1で詳しく説明します。"
    },
    {
      "indent": 3,
      "text": "This document provides mechanisms to advertise graceful-link-shutdown state in the flexible encodings provided by \"OSPFv2 Prefix/Link Attribute Advertisement\" [RFC7684] and the E-Router-LSA [RFC8362] for OSPFv3. Throughout this document, OSPF is used when the text applies to both OSPFv2 and OSPFv3. OSPFv2 or OSPFv3 is used when the text is specific to one version of the OSPF protocol.",
      "ja": "このドキュメントでは、OSPFv3の「OSPFv2プレフィックス/リンク属性アドバタイズメント」[RFC7684]およびE-Router-LSA [RFC8362]によって提供される柔軟なエンコーディングで、graceful-link-shutdown状態をアドバタイズするメカニズムを提供します。このドキュメント全体を通して、テキストがOSPFv2とOSPFv3の両方に適用される場合、OSPFが使用されます。 OSPFv2またはOSPFv3は、テキストがOSPFプロトコルの1つのバージョンに固有である場合に使用されます。"
    },
    {
      "indent": 0,
      "text": "1.1. Requirements Language",
      "section_title": true,
      "ja": "1.1. 要件言語"
    },
    {
      "indent": 3,
      "text": "The key words \"MUST\", \"MUST NOT\", \"REQUIRED\", \"SHALL\", \"SHALL NOT\", \"SHOULD\", \"SHOULD NOT\", \"RECOMMENDED\", \"NOT RECOMMENDED\", \"MAY\", and \"OPTIONAL\" in this document are to be interpreted as described in BCP 14 [RFC2119] [RFC8174] when, and only when, they appear in all capitals, as shown here.",
      "ja": "キーワード「MUST」、「MUST NOT」、「REQUIRED」、「SHALL」、「SHALL NOT」、「SHOULD」、「SHOULD NOT」、「RECOMMENDED」、「NOT RECOMMENDED」、「MAY」、「OPTIONALこのドキュメントの「」は、BCP 14 [RFC2119] [RFC8174]で説明されているように解釈されます。"
    },
    {
      "indent": 0,
      "text": "2. Motivation",
      "section_title": true,
      "ja": "2. 動機"
    },
    {
      "indent": 3,
      "text": "The motivation of this document is to reduce manual intervention during maintenance activities. The following objectives help to accomplish this in a range of deployment scenarios.",
      "ja": "このドキュメントの目的は、メンテナンス作業中の手動による介入を減らすことです。次の目的は、さまざまな展開シナリオでこれを達成するのに役立ちます。"
    },
    {
      "indent": 3,
      "text": "1. Advertise impending maintenance activity so that traffic from both directions can be diverted away from the link.",
      "ja": "1. 差し迫ったメンテナンスアクティビティをアドバタイズして、両方向からのトラフィックをリンクから迂回できるようにします。"
    },
    {
      "indent": 3,
      "text": "2. Allow the solution to be backward compatible so that nodes that do not understand the new advertisement do not cause routing loops.",
      "ja": "2. 新しいアドバタイズを理解しないノードがルーティングループを引き起こさないように、ソリューションに下位互換性を持たせます。"
    },
    {
      "indent": 3,
      "text": "3. Advertise the maintenance activity to other nodes in the network so that Label Switched Path (LSP) ingress routers/controllers can learn about the impending maintenance activity and apply specific policies to reroute the LSPs for deployments based on Traffic Engineering (TE).",
      "ja": "3. ネットワーク内の他のノードにメンテナンスアクティビティをアドバタイズして、ラベルスイッチドパス（LSP）の入力ルーター/コントローラーが差し迫ったメンテナンスアクティビティについて学習し、特定のポリシーを適用して、トラフィックエンジニアリング（TE）に基づく展開用にLSPを再ルーティングできるようにします。"
    },
    {
      "indent": 3,
      "text": "4. Allow the link to be used as a last-resort link to prevent traffic disruption when alternate paths are not available.",
      "ja": "4. 代替パスが利用できないときにトラフィックの中断を防ぐために、リンクをラストリゾートリンクとして使用できるようにします。"
    },
    {
      "indent": 0,
      "text": "3. Flooding Scope",
      "section_title": true,
      "ja": "3. 洪水範囲"
    },
    {
      "indent": 3,
      "text": "The graceful-link-shutdown information is flooded in an area-scoped Extended Link Opaque LSA [RFC7684] for OSPFv2 and in an E-Router-LSA for OSPFv3 [RFC8362]. The Graceful-Link-Shutdown sub-TLV MAY be processed by the head-end nodes or the controller as described in the Section 7. The procedures for processing the Graceful-Link-Shutdown sub-TLV are described in Section 5.",
      "ja": "グレースフルリンクシャットダウン情報は、OSPFv2の場合はエリアスコープの拡張リンク不透明LSA [RFC7684]に、OSPFv3の場合はE-Router-LSAにフラッディングされます[RFC8362]。 Graceful-Link-ShutdownサブTLVは、セクション7で説明されているように、ヘッドエンドノードまたはコントローラで処理される場合があります（MAY）。Graceful-Link-ShutdownサブTLVの処理手順については、セクション5で説明されています。"
    },
    {
      "indent": 0,
      "text": "4. Protocol Extensions",
      "section_title": true,
      "ja": "4. プロトコル拡張"
    },
    {
      "indent": 0,
      "text": "4.1. OSPFv2 Graceful-Link-Shutdown Sub-TLV",
      "section_title": true,
      "ja": "4.1. OSPFv2グレースフルリンクシャットダウンサブTLV"
    },
    {
      "indent": 3,
      "text": "The Graceful-Link-Shutdown sub-TLV identifies the link as being gracefully shutdown. It is advertised in the Extended Link TLV of the Extended Link Opaque LSA as defined in [RFC7684].",
      "ja": "グレースフルリンクシャットダウンサブTLVは、リンクが正常にシャットダウンされていることを識別します。 [RFC7684]で定義されているように、拡張リンク不透明LSAの拡張リンクTLVで通知されます。"
    },
    {
      "indent": 7,
      "text": " 0                   1                   2                   3\n 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1\n+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n|              Type             |             Length            |\n+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 12,
      "text": "Figure 1: Graceful-Link-Shutdown Sub-TLV for OSPFv2",
      "ja": "図1：OSPFv2のGraceful-Link-Shutdown Sub-TLV"
    },
    {
      "indent": 3,
      "text": "Type: 7",
      "ja": "タイプ：7"
    },
    {
      "indent": 3,
      "text": "Length: 0",
      "ja": "長さ：0"
    },
    {
      "indent": 0,
      "text": "4.2. Remote IPv4 Address Sub-TLV",
      "section_title": true,
      "ja": "4.2. リモートIPv4アドレスサブTLV"
    },
    {
      "indent": 3,
      "text": "This sub-TLV specifies the IPv4 address of the remote endpoint on the link. It is advertised in the Extended Link TLV as defined in [RFC7684]. This sub-TLV is optional and MAY be advertised in an area-scoped Extended Link Opaque LSA to identify the link when there are multiple parallel links between two nodes.",
      "ja": "このサブTLVは、リンク上のリモートエンドポイントのIPv4アドレスを指定します。 [RFC7684]で定義されているように、拡張リンクTLVでアドバタイズされます。このサブTLVはオプションであり、2つのノード間に複数の並列リンクがある場合にリンクを識別するために、エリアスコープの拡張リンク不透明LSAでアドバタイズされる場合があります。"
    },
    {
      "indent": 7,
      "text": " 0                   1                   2                   3\n 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1\n+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n|              Type             |             Length            |\n+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n|                     Remote IPv4 Address                       |\n+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 19,
      "text": "Figure 2: Remote IPv4 Address Sub-TLV",
      "ja": "図2：リモートIPv4アドレスサブTLV"
    },
    {
      "indent": 3,
      "text": "Type: 8",
      "ja": "タイプ：8"
    },
    {
      "indent": 3,
      "text": "Length: 4",
      "ja": "長さ：4"
    },
    {
      "indent": 3,
      "text": "Value: Remote IPv4 address. The remote IPv4 address is used to identify a particular link on the remote side when there are multiple parallel links between two nodes.",
      "ja": "値：リモートIPv4アドレス。 2つのノード間に複数の並列リンクがある場合、リモートIPv4アドレスは、リモート側の特定のリンクを識別するために使用されます。"
    },
    {
      "indent": 0,
      "text": "4.3. Local/Remote Interface ID Sub-TLV",
      "section_title": true,
      "ja": "4.3. ローカル/リモートインターフェイスIDサブTLV"
    },
    {
      "indent": 3,
      "text": "This sub-TLV specifies Local and Remote Interface IDs. It is advertised in the Extended Link TLV as defined in [RFC7684]. This sub-TLV is optional and MAY be advertised in an area-scoped Extended Link Opaque LSA to identify the link when there are multiple parallel unnumbered links between two nodes. The Local Interface ID is generally readily available. One of the mechanisms to obtain the Remote Interface ID is described in [RFC4203].",
      "ja": "このサブTLVは、ローカルおよびリモートインターフェイスIDを指定します。 [RFC7684]で定義されているように、拡張リンクTLVでアドバタイズされます。このサブTLVはオプションであり、2つのノード間に複数の並列の番号なしリンクがある場合にリンクを識別するために、エリアスコープの拡張リンク不透明LSAでアドバタイズできます（MAY）。ローカルインターフェイスIDは、通常、すぐに利用できます。リモートインターフェイスIDを取得するメカニズムの1つは、[RFC4203]で説明されています。"
    },
    {
      "indent": 7,
      "text": " 0                   1                   2                   3\n 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1\n+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n|              Type             |             Length            |\n+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n|                     Local Interface ID                        |\n+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n|                     Remote Interface ID                       |\n+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 16,
      "text": "Figure 3: Local/Remote Interface ID Sub-TLV",
      "ja": "図3：ローカル/リモートインターフェイスIDサブTLV"
    },
    {
      "indent": 3,
      "text": "Type: 9",
      "ja": "タイプ：9"
    },
    {
      "indent": 3,
      "text": "Length: 8",
      "ja": "長さ：8"
    },
    {
      "indent": 3,
      "text": "Value: 4 octets of the Local Interface ID followed by 4 octets of the Remote Interface ID.",
      "ja": "値：ローカルインターフェースIDの4オクテットと、それに続くリモートインターフェースIDの4オクテット。"
    },
    {
      "indent": 0,
      "text": "4.4. OSPFv3 Graceful-Link-Shutdown Sub-TLV",
      "section_title": true,
      "ja": "4.4. OSPFv3グレースフルリンクシャットダウンサブTLV"
    },
    {
      "indent": 3,
      "text": "The Graceful-Link-Shutdown sub-TLV is carried in the Router-Link TLV as defined in [RFC8362] for OSPFv3. The Router-Link TLV contains the Neighbor Interface ID and can uniquely identify the link on the remote node.",
      "ja": "Graceful-Link-ShutdownサブTLVは、OSPFv3の[RFC8362]で定義されているように、Router-Link TLVで伝送されます。 Router-Link TLVにはネイバーインターフェイスIDが含まれており、リモートノード上のリンクを一意に識別できます。"
    },
    {
      "indent": 7,
      "text": " 0                   1                   2                   3\n 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1\n+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n|              Type             |             Length            |\n+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 12,
      "text": "Figure 4: Graceful-Link-Shutdown Sub-TLV for OSPFv3",
      "ja": "図4：OSPFv3のGraceful-Link-Shutdown Sub-TLV"
    },
    {
      "indent": 3,
      "text": "Type: 8",
      "ja": "タイプ：8"
    },
    {
      "indent": 3,
      "text": "Length: 0",
      "ja": "長さ：0"
    },
    {
      "indent": 0,
      "text": "4.5. BGP-LS Graceful-Link-Shutdown TLV",
      "section_title": true,
      "ja": "4.5. BGP-LSグレースフルリンクシャットダウンTLV"
    },
    {
      "indent": 3,
      "text": "BGP-LS as defined in [RFC7752] is a mechanism that distributes network information to the external entities using the BGP routing protocol. Graceful link shutdown is important link information that the external entities can use for various use cases as defined in Section 7. BGP Link Network Layer Reachability Information (NLRI) is used to carry the link information. A new TLV called \"Graceful-Link-Shutdown\" is defined to describe the link attribute corresponding to graceful-link-shutdown state. The TLV format is as described in Section 3.1 of [RFC7752]. There is no Value field, and the Length field is set to zero for this TLV.",
      "ja": "[RFC7752]で定義されているBGP-LSは、BGPルーティングプロトコルを使用して外部エンティティにネットワーク情報を配信するメカニズムです。グレースフルリンクシャットダウンは、セクション7で定義されているように、外部エンティティがさまざまなユースケースで使用できる重要なリンク情報です。リンク情報の伝達には、BGPリンクネットワーク層到達可能性情報（NLRI）が使用されます。 「Graceful-Link-Shutdown」という新しいTLVが定義され、graceful-link-shutdown状態に対応するリンク属性が記述されます。 TLV形式は、[RFC7752]のセクション3.1に記載されています。 Valueフィールドはなく、LengthフィールドはこのTLVに対してゼロに設定されています。"
    },
    {
      "indent": 7,
      "text": " 0                   1                   2                   3\n 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1\n+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n|              Type             |             Length            |\n+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 14,
      "text": "Figure 5: Graceful-Link-Shutdown TLV for BGP-LS",
      "ja": "図5：BGP-LSのグレースフルリンクシャットダウンTLV"
    },
    {
      "indent": 3,
      "text": "Type: 1121",
      "ja": "タイプ：1121"
    },
    {
      "indent": 3,
      "text": "Length: 0",
      "ja": "長さ：0"
    },
    {
      "indent": 0,
      "text": "4.6. Distinguishing Parallel Links",
      "section_title": true,
      "ja": "4.6. 並列リンクの区別"
    },
    {
      "indent": 20,
      "text": "++++++++++I.w            I.y+++++++++++\n|Router A|------------------|Router B |\n|        |------------------|         |\n++++++++++I.x            I.z+++++++++++",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 25,
      "text": "Figure 6: Parallel Links",
      "ja": "図6：並列リンク"
    },
    {
      "indent": 3,
      "text": "Consider two routers, A and B, connected with two parallel point-to-point interfaces. I.w and I.x represent the interface address on Router A's side, and I.y and I.z represent interface addresses on Router B's side. The Extended Link Opaque LSA as defined in [RFC7684] describes links using Link Type, Link ID, and Link Data. For example, a link with the address I.w is described as below on Router A.",
      "ja": "2つのパラレルポイントツーポイントインターフェイスに接続された2つのルーターAとBについて考えてみます。 I.wとI.xはルーターA側のインターフェースアドレスを表し、I.yとI.zはルーターB側のインターフェースアドレスを表します。 [RFC7684]で定義されているExtended Link Opaque LSAは、リンクタイプ、リンクID、およびリンクデータを使用してリンクを記述します。たとえば、アドレスがI.wのリンクは、ルーターAでは次のように記述されます。"
    },
    {
      "indent": 6,
      "text": "Link Type = Point-to-point",
      "ja": "リンクタイプ=ポイントツーポイント"
    },
    {
      "indent": 6,
      "text": "Link ID = Router ID of B",
      "ja": "リンクID = BのルーターID"
    },
    {
      "indent": 6,
      "text": "Link Data = I.w",
      "ja": "リンクデータ= I.w"
    },
    {
      "indent": 3,
      "text": "A third node (controller or head-end) in the network cannot distinguish the interface on Router B, which is connected to this particular Interface on Router A based on the link information described above. The interface with address I.y or I.z could be chosen due to this ambiguity. In such cases, a Remote IPv4 Address sub-TLV should be originated and added to the Extended Link TLV. The use cases as described in Section 7 require controller or head-end nodes to interpret the graceful-link-shutdown information and hence the need for the Remote IPv4 Address sub-TLV. I.y is carried in the Extended Link TLV, which unambiguously identifies the interface on the remote side. The OSPFv3 Router-Link TLV as described in [RFC8362] contains an Interface ID and a neighbor's Interface ID, which can uniquely identify connecting the interface on the remote side; hence, OSPFv3 does not require a separate remote IPv6 address to be advertised along with the OSPFv3 Graceful-Link-Shutdown sub-TLV.",
      "ja": "ネットワークの3番目のノード（コントローラーまたはヘッドエンド）は、上記のリンク情報に基づいて、ルーターAのこの特定のインターフェースに接続されているルーターBのインターフェースを区別できません。このあいまいさにより、アドレスがI.yまたはI.zのインターフェースを選択できます。このような場合、リモートIPv4アドレスサブTLVを作成して、拡張リンクTLVに追加する必要があります。セクション7で説明する使用例では、コントローラまたはヘッドエンドノードがグレースフルリンクシャットダウン情報を解釈する必要があるため、リモートIPv4アドレスサブTLVが必要です。 I.yは拡張リンクTLVで伝送され、リモート側のインターフェースを明確に識別します。 [RFC8362]で説明されているOSPFv3ルーターリンクTLVには、インターフェイスIDとネイバーのインターフェイスIDが含まれています。これにより、リモート側のインターフェイスの接続を一意に識別できます。したがって、OSPFv3では、OSPFv3 Graceful-Link-ShutdownサブTLVと共にアドバタイズされる個別のリモートIPv6アドレスは必要ありません。"
    },
    {
      "indent": 0,
      "text": "5. Elements of Procedure",
      "section_title": true,
      "ja": "5. 手順の要素"
    },
    {
      "indent": 3,
      "text": "As defined in [RFC7684], every link on the node will have a separate Extended Link Opaque LSA. The node that has the link to be taken out of service MUST advertise the Graceful-Link-Shutdown sub-TLV in the Extended Link TLV of the Extended Link Opaque LSA for OSPFv2, as defined in [RFC7684], and in the Router-Link TLV of E-Router-LSA for OSPFv3. The Graceful-Link-Shutdown sub-TLV indicates that the link identified by the sub-TLV is subjected to maintenance.",
      "ja": "[RFC7684]で定義されているように、ノード上のすべてのリンクには個別の拡張リンク不透明LSAがあります。 [RFC7684]で定義されているように、OSPFv2の拡張リンクOpaque LSAの拡張リンクTLVとルーターリンクでGraceful-Link-ShutdownサブTLVをアドバタイズする必要があります。 OSPFv3のE-Router-LSAのTLV。グレースフルリンクシャットダウンサブTLVは、サブTLVによって識別されたリンクがメンテナンスの対象であることを示します。"
    },
    {
      "indent": 3,
      "text": "For the purposes of changing the metric OSPFv2 and OSPFv3 Router-LSAs need to be reoriginated. To change the Traffic Engineering metric, TE Opaque LSAs in OSPFv2 [RFC3630] and Intra-area-TE-LSAs in OSPFv3 [RFC5329] need to be reoriginated.",
      "ja": "メトリックを変更するために、OSPFv2およびOSPFv3ルーターLSAを再発信する必要があります。トラフィックエンジニアリングメトリックを変更するには、OSPFv2 [RFC3630]のTE Opaque LSAおよびOSPFv3 [RFC5329]のエリア内TE-LSAを再生成する必要があります。"
    },
    {
      "indent": 3,
      "text": "The graceful-link-shutdown information is advertised as a property of the link and is flooded through the area. This information can be used by ingress routers or controllers to take special actions. An application specific to this use case is described in Section 7.2.",
      "ja": "グレースフルリンクシャットダウン情報は、リンクのプロパティとしてアドバタイズされ、エリア全体にフラッディングされます。この情報は、入口ルーターまたはコントローラーが特別なアクションを実行するために使用できます。このユースケースに固有のアプリケーションについては、セクション7.2で説明します。"
    },
    {
      "indent": 3,
      "text": "When a link is ready to carry traffic, the Graceful-Link-Shutdown sub-TLV MUST be removed from the Extended Link TLV/Router-Link TLV, and the corresponding LSAs MUST be readvertised. Similarly, the metric MUST be set to original values, and the corresponding LSAs MUST be readvertised.",
      "ja": "リンクがトラフィックを伝送する準備ができたら、Graceful-Link-ShutdownサブTLVを拡張リンクTLV /ルーターリンクTLVから削除する必要があり、対応するLSAを再アドバタイズする必要があります。同様に、メトリックは元の値に設定する必要があり、対応するLSAを再アドバタイズする必要があります。"
    },
    {
      "indent": 3,
      "text": "The procedures described in this document may be used to divert the traffic away from the link in scenarios other than link-shutdown or link-replacement activity.",
      "ja": "このドキュメントで説明されている手順を使用して、リンクシャットダウンまたはリンク交換アクティビティ以外のシナリオで、トラフィックをリンクからそらすことができます。"
    },
    {
      "indent": 3,
      "text": "The precise action taken by the remote node at the other end of the link identified for graceful-shutdown depends on the link type.",
      "ja": "graceful-shutdownとして識別されたリンクの反対側のリモートノードによって実行される正確なアクションは、リンクタイプによって異なります。"
    },
    {
      "indent": 0,
      "text": "5.1. Point-to-Point Links",
      "section_title": true,
      "ja": "5.1. ポイントツーポイントリンク"
    },
    {
      "indent": 0,
      "text": " The node that has the link to be taken out of service MUST set the metric of the link to MaxLinkMetric (0xffff) and reoriginate its Router-LSA. The Traffic Engineering metric of the link SHOULD be set to (0xffffffff), and the node SHOULD reoriginate the corresponding TE Link Opaque LSAs. When a Graceful-Link-Shutdown sub-TLV is received for a point-to-point link, the remote node MUST identify the local link that corresponds to the graceful-shutdown link and set its metric to MaxLinkMetric (0xffff), and the remote node MUST reoriginate its Router-LSA with the changed metric. When TE is enabled, the Traffic Engineering metric of the link SHOULD be set to (0xffffffff) and follow the procedures in [RFC5817]. Similarly, the remote node SHOULD set the Traffic Engineering metric of the link to 0xffffffff and SHOULD reoriginate the TE Link Opaque LSA for the link with the new value.",
      "ja": "サービスから外されるリンクを持つノードは、リンクのメトリックをMaxLinkMetric（0xffff）に設定し、ルーターLSAを再発信する必要があります。リンクのトラフィックエンジニアリングメトリックは（0xffffffff）に設定する必要があり（SHOULD）、ノードは対応するTE Link Opaque LSAを再生成する必要があります（SHOULD）。ポイントツーポイントリンクのGraceful-Link-ShutdownサブTLVを受信した場合、リモートノードは、graceful-shutdownリンクに対応するローカルリンクを識別し、そのメトリックをMaxLinkMetric（0xffff）に設定する必要があります。ノードは変更されたメトリックでルーターLSAを再発信する必要があります。 TEが有効になっている場合、リンクのトラフィックエンジニアリングメトリックは（0xffffffff）に設定する必要があり（SHOULD）、[RFC5817]の手順に従います。同様に、リモートノードは、リンクのトラフィックエンジニアリングメトリックを0xffffffffに設定する必要があり（SHOULD）、新しい値でリンクのTE Link Opaque LSAを再生成する必要があります（SHOULD）。"
    },
    {
      "indent": 3,
      "text": "The Extended Link Opaque LSAs and the Extended Link TLV are not scoped for multi-topology [RFC4915]. In multi-topology deployments [RFC4915], the Graceful-Link-Shutdown sub-TLV advertised in an Extended Link Opaque LSA corresponds to all the topologies that include the link. The receiver node SHOULD change the metric in the reverse direction for all the topologies that include the remote link and reoriginate the Router-LSA as defined in [RFC4915].",
      "ja": "Extended Link Opaque LSAとExtended Link TLVは、マルチトポロジ[RFC4915]のスコープではありません。マルチトポロジ展開[RFC4915]では、Extended Link Opaque LSAで通知されるGraceful-Link-ShutdownサブTLVは、リンクを含むすべてのトポロジに対応します。 [RFC4915]で定義されているように、受信ノードはリモートリンクを含むすべてのトポロジのメトリックを逆方向に変更し、ルーターLSAを再発信する必要があります（SHOULD）。"
    },
    {
      "indent": 3,
      "text": "When the originator of the Graceful-Link-Shutdown sub-TLV purges the Extended Link Opaque LSA or reoriginates it without the Graceful-Link-Shutdown sub-TLV, the remote node must reoriginate the appropriate LSAs with the metric and TE metric values set to their original values.",
      "ja": "Graceful-Link-ShutdownサブTLVのオリジネーターがExtended Link Opaque LSAをパージするか、Graceful-Link-ShutdownサブTLVなしでそれを再生成する場合、リモートノードは、メトリックとTEメトリック値を次のように設定して適切なLSAを再生成する必要があります。それらの元の値。"
    },
    {
      "indent": 0,
      "text": "5.2. Broadcast/NBMA Links",
      "section_title": true,
      "ja": "5.2. ブロードキャスト/ NBMAリンク"
    },
    {
      "indent": 3,
      "text": "Broadcast or Non-Broadcast Multi-Access (NBMA) networks in OSPF are represented by a star topology where the Designated Router (DR) is the central point to which all other routers on the broadcast or NBMA network logically connect. As a result, routers on the broadcast or NBMA network advertise only their adjacency to the DR. Routers that do not act as DRs do not form or advertise adjacencies with each other. For the broadcast links, the MaxLinkMetric on the remote link cannot be changed since all the neighbors are on same link. Setting the link cost to MaxLinkMetric would impact all paths that traverse any of the neighbors connected on that broadcast link.",
      "ja": "OSPFのブロードキャストまたは非ブロードキャストマルチアクセス（NBMA）ネットワークは、指定ルーター（DR）がブロードキャストまたはNBMAネットワーク上の他のすべてのルーターが論理的に接続する中心点であるスタートポロジで表されます。その結果、ブロードキャストまたはNBMAネットワーク上のルーターは、隣接関係のみをDRにアドバタイズします。 DRとして機能しないルーターは、相互に隣接関係を形成したり通知したりしません。ブロードキャストリンクの場合、すべてのネイバーが同じリンク上にあるため、リモートリンクのMaxLinkMetricは変更できません。リンクコストをMaxLinkMetricに設定すると、そのブロードキャストリンクに接続されているネイバーのいずれかを通過するすべてのパスに影響します。"
    },
    {
      "indent": 3,
      "text": "The node that has the link to be taken out of service MUST set the metric of the link to MaxLinkMetric (0xffff) and reoriginate the Router-LSA. The Traffic Engineering metric of the link SHOULD be set to (0xffffffff), and the node SHOULD reoriginate the corresponding TE Link Opaque LSAs. For a broadcast link, the two-part metric as described in [RFC8042] is used. The node originating the Graceful-Link-Shutdown sub-TLV MUST set the metric in the Network-to-Router Metric sub-TLV to MaxLinkMetric (0xffff) for OSPFv2 and OSPFv3 and reoriginate the corresponding LSAs. The nodes that receive the two-part metric should follow the procedures described in [RFC8042]. The backward-compatibility procedures described in [RFC8042] should be followed to ensure loop-free routing.",
      "ja": "サービスから外されるリンクを持つノードは、リンクのメトリックをMaxLinkMetric（0xffff）に設定し、ルーターLSAを再発信する必要があります。リンクのトラフィックエンジニアリングメトリックは（0xffffffff）に設定する必要があり（SHOULD）、ノードは対応するTE Link Opaque LSAを再生成する必要があります（SHOULD）。ブロードキャストリンクでは、[RFC8042]で説明されている2つの部分からなるメトリックが使用されます。 Graceful-Link-ShutdownサブTLVを発信するノードは、OSPFv2およびOSPFv3のNetwork-to-RouterメトリックサブTLVのメトリックをMaxLinkMetric（0xffff）に設定し、対応するLSAを再発信する必要があります。 2つの部分からなるメトリックを受信するノードは、[RFC8042]で説明されている手順に従う必要があります。 [RFC8042]で説明されている下位互換性の手順に従って、ループのないルーティングを確保する必要があります。"
    },
    {
      "indent": 0,
      "text": "5.3. Point-to-Multipoint Links",
      "section_title": true,
      "ja": "5.3. ポイントツーマルチポイントリンク"
    },
    {
      "indent": 3,
      "text": "Operation for the point-to-multipoint (P2MP) links is similar to the point-to-point links. When a Graceful-Link-Shutdown sub-TLV is received for a point-to-multipoint link, the remote node MUST identify the neighbor that corresponds to the graceful-shutdown link and set its metric to MaxLinkMetric (0xffff). The remote node MUST reoriginate the Router-LSA with the changed metric for the corresponding neighbor.",
      "ja": "ポイントツーマルチポイント（P2MP）リンクの操作は、ポイントツーポイントリンクに似ています。ポイントツーマルチポイントリンクのGraceful-Link-ShutdownサブTLVを受信した場合、リモートノードは、graceful-shutdownリンクに対応するネイバーを識別し、そのメトリックをMaxLinkMetric（0xffff）に設定する必要があります。リモートノードは、対応するネイバーの変更されたメトリックでルーターLSAを再発信する必要があります。"
    },
    {
      "indent": 0,
      "text": "5.4. Unnumbered Interfaces",
      "section_title": true,
      "ja": "5.4. アンナンバードインターフェイス"
    },
    {
      "indent": 3,
      "text": "Unnumbered interfaces do not have a unique IP address and borrow their address from other interfaces. [RFC2328] describes procedures to handle unnumbered interfaces in the context of the Router-LSA. We apply a similar procedure to the Extended Link TLV advertising the Graceful-Link-Shutdown sub-TLV in order to handle unnumbered interfaces. The Link-Data field in the Extended Link TLV includes the Local Interface ID instead of the IP address. The Local/Remote Interface ID sub-TLV MUST be advertised when there are multiple parallel unnumbered interfaces between two nodes. One of the mechanisms to obtain the Interface ID of the remote side is defined in [RFC4203].",
      "ja": "アンナンバードインターフェイスには一意のIPアドレスがなく、他のインターフェイスからアドレスを借用します。 [RFC2328]は、ルータLSAのコンテキストで番号付けされていないインターフェイスを処理する手順を説明しています。アンナンバードインターフェイスを処理するために、Graceful-Link-ShutdownサブTLVをアドバタイズする拡張リンクTLVに同様の手順を適用します。拡張リンクTLVのリンクデータフィールドには、IPアドレスではなくローカルインターフェイスIDが含まれています。ローカル/リモートインターフェイスIDサブTLVは、2つのノード間に複数のパラレルアンナンバードインターフェイスがある場合にアドバタイズする必要があります。リモート側のインターフェイスIDを取得するメカニズムの1つは、[RFC4203]で定義されています。"
    },
    {
      "indent": 0,
      "text": "5.5. Hybrid Broadcast and P2MP Interfaces",
      "section_title": true,
      "ja": "5.5. ハイブリッドブロードキャストおよびP2MPインターフェイス"
    },
    {
      "indent": 3,
      "text": "Hybrid Broadcast and P2MP interfaces represent a broadcast network modeled as P2MP interfaces. [RFC6845] describes procedures to handle these interfaces. Operation for the Hybrid interfaces is similar to operation for the P2MP interfaces. When a Graceful-Link-Shutdown sub-TLV is received for a hybrid link, the remote node MUST identify the neighbor that corresponds to the graceful-shutdown link and set its metric to MaxLinkMetric (0xffff). All the remote nodes connected to the originator MUST reoriginate the Router-LSA with the changed metric for the neighbor.",
      "ja": "ハイブリッドブロードキャストおよびP2MPインターフェイスは、P2MPインターフェイスとしてモデル化されたブロードキャストネットワークを表します。 [RFC6845]は、これらのインターフェースを処理する手順を説明しています。ハイブリッドインターフェイスの操作は、P2MPインターフェイスの操作と似ています。ハイブリッドリンクのグレースフルリンクシャットダウンサブTLVを受信した場合、リモートノードはグレースフルシャットダウンリンクに対応するネイバーを識別し、そのメトリックをMaxLinkMetric（0xffff）に設定する必要があります。発信者に接続されているすべてのリモートノードは、変更されたネイバーのメトリックを使用して、Router-LSAを再発信する必要があります。"
    },
    {
      "indent": 0,
      "text": "6. Backward Compatibility",
      "section_title": true,
      "ja": "6. 下位互換性"
    },
    {
      "indent": 3,
      "text": "The mechanisms described in the document are fully backward compatible. It is required that the node adverting the Graceful-Link-Shutdown sub-TLV as well as the node at the remote end of the graceful-shutdown link support the extensions described herein for the traffic to be diverted from the graceful-shutdown link. If the remote node doesn't support the capability, it will still use the graceful-shutdown link, but there are no other adverse effects. In the case of broadcast links using two-part metrics, the backward-compatibility procedures as described in [RFC8042] are applicable.",
      "ja": "このドキュメントで説明されているメカニズムは、完全に下位互換性があります。 Graceful-Link-ShutdownサブTLVをアドバタイズするノードとgraceful-shutdownリンクのリモートエンドのノードが、ここで説明する拡張機能をサポートし、トラフィックをgraceful-shutdownリンクから迂回させる必要があります。リモートノードが機能をサポートしていない場合でも、グレースフルシャットダウンリンクを使用しますが、他の悪影響はありません。 2つの部分からなるメトリックを使用するブロードキャストリンクの場合、[RFC8042]で説明されている下位互換性手順が適用されます。"
    },
    {
      "indent": 0,
      "text": "7. Applications",
      "section_title": true,
      "ja": "7. 用途"
    },
    {
      "indent": 0,
      "text": "7.1. Overlay Network",
      "section_title": true,
      "ja": "7.1. オーバーレイネットワーク"
    },
    {
      "indent": 3,
      "text": "Many service providers offer L2 services to a customer connecting different locations. The customer's IGP protocol creates a seamless private network (overlay network) across the locations for the customer. Service providers want to offer graceful-shutdown functionality when the PE device is taken out for maintenance. There can be large number of customers attached to a PE node, and the remote endpoints for these L2 attachment circuits are spread across the service provider's network. Changing the metric for all corresponding L2 circuits in both directions is a tedious and error-prone process. The graceful-link-shutdown feature simplifies the process by increasing the metric on the CE-CE overlay link so that traffic in both directions is diverted away from the PE undergoing maintenance. The graceful-link-shutdown feature allows the link to be used as a last-resort link so that traffic is not disrupted when alternate paths are not available.",
      "ja": "多くのサービスプロバイダーは、異なる場所を接続する顧客にL2サービスを提供しています。顧客のIGPプロトコルは、顧客の場所全体にシームレスなプライベートネットワーク（オーバーレイネットワーク）を作成します。サービスプロバイダーは、PEデバイスがメンテナンスのために取り出されたときに、適切なシャットダウン機能を提供したいと考えています。 PEノードに接続された多数の顧客が存在する可能性があり、これらのL2接続回線のリモートエンドポイントは、サービスプロバイダーのネットワーク全体に広がっています。対応するすべてのL2回線のメトリックを両方向に変更するのは、面倒でエラーが発生しやすいプロセスです。 graceful-link-shutdown機能は、CE-CEオーバーレイリンクのメトリックを増やすことでプロセスを簡素化し、双方向のトラフィックがメンテナンス中のPEから迂回されるようにします。 graceful-link-shutdown機能を使用すると、リンクをラストリゾートリンクとして使用できるため、代替パスが利用できないときにトラフィックが中断されることはありません。"
    },
    {
      "indent": 14,
      "text": "       ------PE3---------------PE4------CE3\n     /                           \\\n   /                               \\\nCE1---------PE1----------PE2---------CE2\n                         \\\n                          \\\n                           ------CE4",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 3,
      "text": "CE: Customer Edge PE: Provider Edge",
      "ja": "CE：カスタマーエッジPE：プロバイダーエッジ"
    },
    {
      "indent": 25,
      "text": "Figure 7: Overlay Network",
      "ja": "図7：オーバーレイネットワーク"
    },
    {
      "indent": 3,
      "text": "In the example shown in Figure 7, when the PE1 node is going out of service for maintenance, a service provider sets the PE1 to stub-router state and communicates the pending maintenance action to the overlay customer networks. The mechanisms used to communicate between PE1 and CE1 is outside the scope of this document. CE1 sets the graceful-link-shutdown state on its links connecting CE3, CE2, and CE4, changes the metric to MaxLinkMetric, and reoriginates the corresponding LSA. The remote end of the link at CE3, CE2, and CE4 also set the metric on the link to MaxLinkMetric, and the traffic from both directions gets diverted away from PE1.",
      "ja": "図7に示す例では、PE1ノードがメンテナンスのためにサービスを停止すると、サービスプロバイダーはPE1をスタブルーター状態に設定し、保留中のメンテナンスアクションをオーバーレイカスタマーネットワークに通知します。 PE1とCE1間の通信に使用されるメカニズムは、このドキュメントの範囲外です。 CE1は、CE3、CE2、およびCE4を接続するリンクにgraceful-link-shutdown状態を設定し、メトリックをMaxLinkMetricに変更して、対応するLSAを再発信します。 CE3、CE2、およびCE4のリンクのリモートエンドもリンクのメトリックをMaxLinkMetricに設定し、両方向からのトラフィックはPE1から迂回されます。"
    },
    {
      "indent": 0,
      "text": "7.2. Controller-Based Deployments",
      "section_title": true,
      "ja": "7.2. コントローラベースの導入"
    },
    {
      "indent": 3,
      "text": "In controller-based deployments where the controller participates in the IGP protocol, the controller can also receive the graceful-link-shutdown information as a warning that link maintenance is imminent. Using this information, the controller can find alternate paths for traffic that uses the affected link. The controller can apply various policies and reroute the LSPs away from the link undergoing maintenance. If there are no alternate paths satisfying the constraints, the controller might temporarily relax those constraints and put the service on a different path. Increasing the link metric alone does not specify the maintenance activity as the metric could increase in events such as LDP-IGP synchronization. An explicit indication from the router using the Graceful-Link-Shutdown sub-TLV is needed to inform the controller or head-end routers.",
      "ja": "コントローラがIGPプロトコルに参加しているコントローラベースの展開では、コントローラは、リンクのメンテナンスが差し迫っていることを警告するグレースフルリンクシャットダウン情報も受信できます。この情報を使用して、コントローラーは影響を受けるリンクを使用するトラフィックの代替パスを見つけることができます。コントローラは、さまざまなポリシーを適用し、メンテナンス中のリンクからLSPを再ルーティングできます。制約を満たす代替パスがない場合、コントローラーはそれらの制約を一時的に緩和し、サービスを別のパスに置く可能性があります。 LDP-IGP同期などのイベントでメトリックが増加する可能性があるため、リンクメトリックを増加させるだけではメンテナンスアクティビティは指定されません。コントローラまたはヘッドエンドルータに通知するには、Graceful-Link-ShutdownサブTLVを使用するルータからの明示的な指示が必要です。"
    },
    {
      "indent": 15,
      "text": "               _____________\n              |             |\n--------------| Controller  |--------------\n|             |____________ |             |\n|                                         |\n|--------- Primary Path ------------------|\nPE1---------P1----------------P2---------PE2\n            |                  |\n            |                  |\n            |________P3________|",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 30,
      "text": "Alternate Path",
      "ja": "代替パス"
    },
    {
      "indent": 14,
      "text": "Figure 8: Controller-Based Traffic Engineering",
      "ja": "図8：コントローラベースのトラフィックエンジニアリング"
    },
    {
      "indent": 3,
      "text": "In the above example, the PE1->PE2 LSP is set up to satisfy a constraint of 10 Gbps bandwidth on each link. The links P1->P3 and P3->P2 have only 1 Gbps capacity, and there is no alternate path satisfying the bandwidth constraint of 10 Gbps. When the P1->P2 link is being prepared for maintenance, the controller receives the graceful-link-shutdown information, as there is no alternate path available that satisfies the constraints, and the controller chooses a path that is less optimal and temporarily sets up an alternate path via P1->P3->P2. Once the traffic is diverted, the P1->P2 link can be taken out of service for maintenance/upgrade.",
      "ja": "上記の例では、各リンクの10 Gbps帯域幅の制約を満たすようにPE1-> PE2 LSPが設定されています。リンクP1-> P3およびP3-> P2の容量は1 Gbpsのみであり、10 Gbpsの帯域幅制約を満たす代替パスはありません。 P1-> P2リンクのメンテナンス準備が完了すると、制約を満たす代替パスがないため、コントローラーはグレースフルリンクシャットダウン情報を受け取り、コントローラーは最適でないパスを選択して一時的にセットアップします。 P1-> P3-> P2による代替パス。トラフィックが迂回されると、P1-> P2リンクは保守/アップグレードのためにサービスを停止できます。"
    },
    {
      "indent": 0,
      "text": "7.3. L3VPN Services and Sham Links",
      "section_title": true,
      "ja": "7.3. L3VPNサービスと模造リンク"
    },
    {
      "indent": 3,
      "text": "Many service providers offer Layer 3 Virtual Private Network (L3VPN) services to customers, and CE-PE links run OSPF [RFC4577]. When the PE is taken out of service for maintenance, all the links on the PE can be set to graceful-link-shutdown state, which will guarantee that the traffic to/from dual-homed CEs gets diverted. The interaction between OSPF and BGP is outside the scope of this document. A mechanism based on [RFC6987] with summaries and externals that are advertised with high metrics could also be used to achieve the same functionality when implementations support high metrics advertisement for summaries and externals.",
      "ja": "多くのサービスプロバイダーがレイヤ3バーチャルプライベートネットワーク（L3VPN）サービスを顧客に提供しており、CE-PEリンクはOSPF [RFC4577]を実行しています。 PEがメンテナンスのためにサービスを停止すると、PE上のすべてのリンクをgraceful-link-shutdown状態に設定できます。これにより、デュアルホームCEとの間のトラフィックが迂回されることが保証されます。 OSPFとBGPの間の相互作用は、このドキュメントの範囲外です。 [RFC6987]に基づく、高メトリックでアドバタイズされるサマリーとエクスターナルのメカニズムは、実装がサマリーとエクスターナルの高メトリックアドバタイズをサポートしている場合にも、同じ機能を実現するために使用できます。"
    },
    {
      "indent": 3,
      "text": "Another useful use case is when ISPs provide sham-link services to customers [RFC4577]. When the PE goes out of service for maintenance, all sham links on the PE can be set to graceful-link-shutdown state, and traffic can be diverted from both ends without having to touch the configurations on the remote end of the sham links.",
      "ja": "別の有用な使用例は、ISPが模造リンクサービスを顧客に提供する場合です[RFC4577]。 PEがメンテナンスのためにアウトオブサービスになると、PE上のすべての模造リンクをgraceful-link-shutdown状態に設定でき、模造リンクのリモートエンドの設定に触れる必要なく、両端からトラフィックを迂回させることができます。"
    },
    {
      "indent": 0,
      "text": "7.4. Hub and Spoke Deployment",
      "section_title": true,
      "ja": "7.4. ハブアンドスポークの配置"
    },
    {
      "indent": 3,
      "text": "OSPF is largely deployed in Hub and Spoke deployments with a large number of Spokes connecting to the Hub. It is a general practice to deploy multiple Hubs with all Spokes connecting to these Hubs to achieve redundancy. The mechanism defined in [RFC6987] can be used to divert the Spoke-to-Spoke traffic from the overloaded Hub router. The traffic that flows from Spokes via the Hub into an external network may not be diverted in certain scenarios. When a Hub node goes down for maintenance, all links on the Hub can be set to graceful-link-shutdown state, and traffic gets diverted from the Spoke sites as well without having to make configuration changes on the Spokes.",
      "ja": "OSPFは主にハブアンドスポークの展開に展開され、多数のスポークがハブに接続されています。複数のハブを配置してすべてのスポークをこれらのハブに接続し、冗長性を実現するのが一般的な方法です。 [RFC6987]で定義されたメカニズムを使用して、過負荷のハブルーターからスポーク間トラフィックを迂回させることができます。スポークからハブを経由して外部ネットワークに流れるトラフィックは、特定のシナリオでは迂回されない場合があります。メンテナンスのためにハブノードがダウンすると、ハブ上のすべてのリンクをgraceful-link-shutdown状態に設定でき、スポークの構成を変更する必要なく、トラフィックがスポークサイトから迂回されます。"
    },
    {
      "indent": 0,
      "text": "8. Security Considerations",
      "section_title": true,
      "ja": "8. セキュリティに関する考慮事項"
    },
    {
      "indent": 3,
      "text": "This document utilizes the OSPF packets and LSAs described in [RFC2328] , [RFC3630], [RFC5329], and [RFC5340]. The authentication procedures described in [RFC2328] for OSPFv2 and [RFC4552] for OSPFv3 are applicable to this document as well. This document does not introduce any further security issues other than those discussed in [RFC2328] and [RFC5340].",
      "ja": "このドキュメントは、[RFC2328]、[RFC3630]、[RFC5329]、および[RFC5340]で説明されているOSPFパケットとLSAを利用しています。 OSPFv2の[RFC2328]およびOSPFv3の[RFC4552]で説明されている認証手順は、このドキュメントにも適用されます。このドキュメントでは、[RFC2328]と[RFC5340]で説明されている問題以外のセキュリティの問題は紹介していません。"
    },
    {
      "indent": 0,
      "text": "9. IANA Considerations",
      "section_title": true,
      "ja": "9. IANAに関する考慮事項"
    },
    {
      "indent": 3,
      "text": "IANA has registered the following in the \"OSPFv2 Extended Link TLV Sub-TLVs\" registry:",
      "ja": "IANAは、「OSPFv2 Extended Link TLV Sub-TLVs」レジストリに以下を登録しています。"
    },
    {
      "indent": 6,
      "text": "7 - Graceful-Link-Shutdown Sub-TLV",
      "ja": "7-グレースフルリンクシャットダウンサブTLV"
    },
    {
      "indent": 6,
      "text": "8 - Remote IPv4 Address Sub-TLV",
      "ja": "8-リモートIPv4アドレスサブTLV"
    },
    {
      "indent": 6,
      "text": "9 - Local/Remote Interface ID Sub-TLV",
      "ja": "9-ローカル/リモートインターフェイスIDサブTLV"
    },
    {
      "indent": 3,
      "text": "IANA has registered the following value in the \"OSPFv3 Extended-LSA Sub-TLVs\" registry:",
      "ja": "IANAは、「OSPFv3 Extended-LSA Sub-TLVs」レジストリに次の値を登録しました。"
    },
    {
      "indent": 6,
      "text": "8 - Graceful-Link-Shutdown sub-TLV",
      "ja": "8-グレースフルリンクシャットダウンサブTLV"
    },
    {
      "indent": 3,
      "text": "IANA has registered the following value in the \"BGP-LS Node Descriptor, Link Descriptor, Prefix Descriptor, and Attribute TLVs\" registry [RFC7752]\":",
      "ja": "IANAは、「BGP-LSノード記述子、リンク記述子、プレフィックス記述子、および属性TLV」レジストリ[RFC7752]に次の値を登録しました。"
    },
    {
      "indent": 6,
      "text": "1121 - Graceful-Link-Shutdown TLV",
      "ja": "1121-グレースフルリンクシャットダウンTLV"
    },
    {
      "indent": 0,
      "text": "10. References",
      "section_title": true,
      "ja": "10. 参考文献"
    },
    {
      "indent": 0,
      "text": "10.1. Normative References",
      "section_title": true,
      "ja": "10.1. 引用文献"
    },
    {
      "indent": 3,
      "text": "[RFC2119] Bradner, S., \"Key words for use in RFCs to Indicate Requirement Levels\", BCP 14, RFC 2119, DOI 10.17487/RFC2119, March 1997, <https://www.rfc-editor.org/info/rfc2119>.",
      "ja": "[RFC2119] Bradner、S。、「要件レベルを示すためにRFCで使用するキーワード」、BCP 14、RFC 2119、DOI 10.17487 / RFC2119、1997年3月、<https://www.rfc-editor.org/info/ rfc2119>。"
    },
    {
      "indent": 3,
      "text": "[RFC2328] Moy, J., \"OSPF Version 2\", STD 54, RFC 2328, DOI 10.17487/RFC2328, April 1998, <https://www.rfc-editor.org/info/rfc2328>.",
      "ja": "[RFC2328] Moy、J。、「OSPFバージョン2」、STD 54、RFC 2328、DOI 10.17487 / RFC2328、1998年4月、<https://www.rfc-editor.org/info/rfc2328>。"
    },
    {
      "indent": 3,
      "text": "[RFC3630] Katz, D., Kompella, K., and D. Yeung, \"Traffic Engineering (TE) Extensions to OSPF Version 2\", RFC 3630, DOI 10.17487/RFC3630, September 2003, <https://www.rfc-editor.org/info/rfc3630>.",
      "ja": "[RFC3630] Katz、D.、Kompella、K.、D。Yeung、「Traffic Engineering（TE）Extensions to OSPF Version 2」、RFC 3630、DOI 10.17487 / RFC3630、2003年9月、<https：//www.rfc -editor.org/info/rfc3630>。"
    },
    {
      "indent": 3,
      "text": "[RFC5329] Ishiguro, K., Manral, V., Davey, A., and A. Lindem, Ed., \"Traffic Engineering Extensions to OSPF Version 3\", RFC 5329, DOI 10.17487/RFC5329, September 2008, <https://www.rfc-editor.org/info/rfc5329>.",
      "ja": "[RFC5329] Ishiguro、K.、Manral、V.、Davey、A.、and A. Lindem、Ed。、 \"Traffic Engineering Extensions to OSPF Version 3\"、RFC 5329、DOI 10.17487 / RFC5329、September 2008、<https： //www.rfc-editor.org/info/rfc5329>。"
    },
    {
      "indent": 3,
      "text": "[RFC5340] Coltun, R., Ferguson, D., Moy, J., and A. Lindem, \"OSPF for IPv6\", RFC 5340, DOI 10.17487/RFC5340, July 2008, <https://www.rfc-editor.org/info/rfc5340>.",
      "ja": "[RFC5340] Coltun、R.、Ferguson、D.、Moy、J。、およびA. Lindem、「OSPF for IPv6」、RFC 5340、DOI 10.17487 / RFC5340、2008年7月、<https：//www.rfc-editor .org / info / rfc5340>。"
    },
    {
      "indent": 3,
      "text": "[RFC5817] Ali, Z., Vasseur, JP., Zamfir, A., and J. Newton, \"Graceful Shutdown in MPLS and Generalized MPLS Traffic Engineering Networks\", RFC 5817, DOI 10.17487/RFC5817, April 2010, <https://www.rfc-editor.org/info/rfc5817>.",
      "ja": "[RFC5817] Ali、Z.、Vasseur、JP。、Zamfir、A。、およびJ. Newton、「MPLSおよび一般化されたMPLSトラフィックエンジニアリングネットワークにおけるグレースフルシャットダウン」、RFC 5817、DOI 10.17487 / RFC5817、2010年4月、<https： //www.rfc-editor.org/info/rfc5817>。"
    },
    {
      "indent": 3,
      "text": "[RFC6845] Sheth, N., Wang, L., and J. Zhang, \"OSPF Hybrid Broadcast and Point-to-Multipoint Interface Type\", RFC 6845, DOI 10.17487/RFC6845, January 2013, <https://www.rfc-editor.org/info/rfc6845>.",
      "ja": "[RFC6845] Sheth、N.、Wang、L。、およびJ. Zhang、「OSPFハイブリッドブロードキャストおよびポイントツーマルチポイントインターフェイスタイプ」、RFC 6845、DOI 10.17487 / RFC6845、2013年1月、<https：// www。 rfc-editor.org/info/rfc6845>。"
    },
    {
      "indent": 3,
      "text": "[RFC6987] Retana, A., Nguyen, L., Zinin, A., White, R., and D. McPherson, \"OSPF Stub Router Advertisement\", RFC 6987, DOI 10.17487/RFC6987, September 2013, <https://www.rfc-editor.org/info/rfc6987>.",
      "ja": "[RFC6987] Retana、A.、Nguyen、L.、Zinin、A.、White、R。、およびD. McPherson、「OSPF Stub Router Advertisement」、RFC 6987、DOI 10.17487 / RFC6987、2013年9月、<https：/ /www.rfc-editor.org/info/rfc6987>。"
    },
    {
      "indent": 3,
      "text": "[RFC7684] Psenak, P., Gredler, H., Shakir, R., Henderickx, W., Tantsura, J., and A. Lindem, \"OSPFv2 Prefix/Link Attribute Advertisement\", RFC 7684, DOI 10.17487/RFC7684, November 2015, <https://www.rfc-editor.org/info/rfc7684>.",
      "ja": "[RFC7684] Psenak、P.、Gredler、H.、Shakir、R.、Henderickx、W.、Tantsura、J。、およびA. Lindem、「OSPFv2 Prefix / Link Attribute Advertisement」、RFC 7684、DOI 10.17487 / RFC7684、 2015年11月、<https://www.rfc-editor.org/info/rfc7684>。"
    },
    {
      "indent": 3,
      "text": "[RFC7752] Gredler, H., Ed., Medved, J., Previdi, S., Farrel, A., and S. Ray, \"North-Bound Distribution of Link-State and Traffic Engineering (TE) Information Using BGP\", RFC 7752, DOI 10.17487/RFC7752, March 2016, <https://www.rfc-editor.org/info/rfc7752>.",
      "ja": "[RFC7752] Gredler、H.、Ed。、Medved、J.、Previdi、S.、Farrel、A.、and S. Ray、 \"North-bound Distribution of Link-State and Traffic Engineering（TE）Information using BGP\" 、RFC 7752、DOI 10.17487 / RFC7752、2016年3月、<https://www.rfc-editor.org/info/rfc7752>。"
    },
    {
      "indent": 3,
      "text": "[RFC8042] Zhang, Z., Wang, L., and A. Lindem, \"OSPF Two-Part Metric\", RFC 8042, DOI 10.17487/RFC8042, December 2016, <https://www.rfc-editor.org/info/rfc8042>.",
      "ja": "[RFC8042] Zhang、Z.、Wang、L。、およびA. Lindem、「OSPF Two-Part Metric」、RFC 8042、DOI 10.17487 / RFC8042、2016年12月、<https://www.rfc-editor.org/ info / rfc8042>。"
    },
    {
      "indent": 3,
      "text": "[RFC8174] Leiba, B., \"Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words\", BCP 14, RFC 8174, DOI 10.17487/RFC8174, May 2017, <https://www.rfc-editor.org/info/rfc8174>.",
      "ja": "[RFC8174] Leiba、B。、「RFC 2119キーワードの大文字と小文字のあいまいさ」、BCP 14、RFC 8174、DOI 10.17487 / RFC8174、2017年5月、<https://www.rfc-editor.org/info/ rfc8174>。"
    },
    {
      "indent": 3,
      "text": "[RFC8362] Lindem, A., Roy, A., Goethals, D., Reddy Vallem, V., and F. Baker, \"OSPFv3 Link State Advertisement (LSA) Extensibility\", RFC 8362, DOI 10.17487/RFC8362, April 2018, <https://www.rfc-editor.org/info/rfc8362>.",
      "ja": "[RFC8362] Lindem、A.、Roy、A.、Goethals、D.、Reddy Vallem、V。、およびF. Baker、「OSPFv3 Link State Advertisement（LSA）Extensibility」、RFC 8362、DOI 10.17487 / RFC8362、2018年4月、<https://www.rfc-editor.org/info/rfc8362>。"
    },
    {
      "indent": 0,
      "text": "10.2. Informative References",
      "section_title": true,
      "ja": "10.2. 参考引用"
    },
    {
      "indent": 3,
      "text": "[RFC4203] Kompella, K., Ed. and Y. Rekhter, Ed., \"OSPF Extensions in Support of Generalized Multi-Protocol Label Switching (GMPLS)\", RFC 4203, DOI 10.17487/RFC4203, October 2005, <https://www.rfc-editor.org/info/rfc4203>.",
      "ja": "[RFC4203] Kompella、K.、Ed。およびY. Rekhter編、「汎用マルチプロトコルラベルスイッチング（GMPLS）をサポートするOSPF拡張機能」、RFC 4203、DOI 10.17487 / RFC4203、2005年10月、<https://www.rfc-editor.org/info / rfc4203>。"
    },
    {
      "indent": 3,
      "text": "[RFC4552] Gupta, M. and N. Melam, \"Authentication/Confidentiality for OSPFv3\", RFC 4552, DOI 10.17487/RFC4552, June 2006, <https://www.rfc-editor.org/info/rfc4552>.",
      "ja": "[RFC4552] Gupta、M.、N。Melam、「Authentication / Confidentiality for OSPFv3」、RFC 4552、DOI 10.17487 / RFC4552、2006年6月、<https://www.rfc-editor.org/info/rfc4552>。"
    },
    {
      "indent": 3,
      "text": "[RFC4577] Rosen, E., Psenak, P., and P. Pillay-Esnault, \"OSPF as the Provider/Customer Edge Protocol for BGP/MPLS IP Virtual Private Networks (VPNs)\", RFC 4577, DOI 10.17487/RFC4577, June 2006, <https://www.rfc-editor.org/info/rfc4577>.",
      "ja": "[RFC4577] Rosen、E.、Psenak、P。、およびP. Pillay-Esault、「BGP / MPLS IP仮想プライベートネットワーク（VPN）のプロバイダー/カスタマーエッジプロトコルとしてのOSPF」、RFC 4577、DOI 10.17487 / RFC4577、 2006年6月、<https://www.rfc-editor.org/info/rfc4577>。"
    },
    {
      "indent": 3,
      "text": "[RFC4915] Psenak, P., Mirtorabi, S., Roy, A., Nguyen, L., and P. Pillay-Esnault, \"Multi-Topology (MT) Routing in OSPF\", RFC 4915, DOI 10.17487/RFC4915, June 2007, <https://www.rfc-editor.org/info/rfc4915>.",
      "ja": "[RFC4915] Psenak、P.、Mirtorabi、S.、Roy、A.、Nguyen、L。、およびP. Pillay-Esnault、「OSPFでのマルチトポロジ（MT）ルーティング」、RFC 4915、DOI 10.17487 / RFC4915、 2007年6月、<https://www.rfc-editor.org/info/rfc4915>。"
    },
    {
      "indent": 0,
      "text": "Acknowledgements",
      "ja": "謝辞"
    },
    {
      "indent": 3,
      "text": "Thanks to Chris Bowers for valuable input and edits to the document. Thanks to Jeffrey Zhang, Acee Lindem, and Ketan Talaulikar for their input. Thanks to Karsten Thomann for careful review and input on the applications where graceful link shutdown is useful.",
      "ja": "ドキュメントへの貴重な入力と編集をしてくれたChris Bowersに感謝します。 Jeffrey Zhang、Acee Lindem、Ketan Talaulikarの各氏の協力に感謝します。グレースフルリンクシャットダウンが役立つアプリケーションについて慎重に検討および入力してくれたKarsten Thomannに感謝します。"
    },
    {
      "indent": 3,
      "text": "Thanks to Alia Atlas, Deborah Brungard, Alvaro Retana, Andrew G. Malis, and Tim Chown for their valuable input.",
      "ja": "Alia Atlas、Deborah Brungard、Alvaro Retana、Andrew G. Malis、Tim Chownの貴重な情報に感謝します。"
    },
    {
      "indent": 0,
      "text": "Authors' Addresses",
      "ja": "著者のアドレス"
    },
    {
      "indent": 3,
      "text": "Shraddha Hegde Juniper Networks, Inc. Embassy Business Park Bangalore, KA 560093 India",
      "ja": "Shraddha Hegde Juniper Networks、Inc.エンバシービジネスパークバンガロールインド"
    },
    {
      "indent": 3,
      "text": "Email: shraddha@juniper.net",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 3,
      "text": "Pushpasis Sarkar Arrcus, Inc.",
      "ja": "Pushpasis Sarkar Rarkus、これ。"
    },
    {
      "indent": 3,
      "text": "Email: pushpasis.ietf@gmail.com",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 3,
      "text": "Hannes Gredler RtBrick Inc.",
      "ja": "Hannes Gredler RtBrick Inc."
    },
    {
      "indent": 3,
      "text": "Email: hannes@rtbrick.com",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 3,
      "text": "Mohan Nanduri ebay Corporation 2025 Hamilton Avenue San Jose, CA 98052 United States of America",
      "ja": "Mohan Nanduri ebay Corporation 2025 Hamilton Avenue San Jose、CA 98052アメリカ合衆国"
    },
    {
      "indent": 3,
      "text": "Email: mnanduri@ebay.com",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 3,
      "text": "Luay Jalil Verizon",
      "ja": "ルアイ・ジャリル・ベライゾン"
    },
    {
      "indent": 3,
      "text": "Email: luay.jalil@verizon.com",
      "raw": true,
      "ja": ""
    }
  ]
}