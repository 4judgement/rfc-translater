{
  "title": {
    "text": "RFC 7753 - Port Control Protocol (PCP) Extension for Port-Set Allocation",
    "ja": "RFC 7753 - ポートセット割り当てのためのポート制御プロトコル（PCP）拡張"
  },
  "number": 7753,
  "created_at": "2020-08-30 09:23:13.229814+09:00",
  "updated_by": "",
  "contents": [
    {
      "indent": 0,
      "text": "Internet Engineering Task Force (IETF)                            Q. Sun\nRequest for Comments: 7753                                 China Telecom\nCategory: Standards Track                                   M. Boucadair\nISSN: 2070-1721                                           France Telecom\n                                                            S. Sivakumar\n                                                           Cisco Systems\n                                                                 C. Zhou\n                                                     Huawei Technologies\n                                                                 T. Tsou\n                                                        Philips Lighting\n                                                            S. Perreault\n                                                     Jive Communications\n                                                           February 2016",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 5,
      "text": "Port Control Protocol (PCP) Extension for Port-Set Allocation",
      "ja": "ポートセット割り当てのためのポート制御プロトコル（PCP）拡張"
    },
    {
      "indent": 0,
      "text": "Abstract",
      "ja": "概要"
    },
    {
      "indent": 3,
      "text": "In some use cases, e.g., Lightweight 4over6, the client may require not just one port, but a port set. This document defines an extension to the Port Control Protocol (PCP) that allows clients to manipulate a set of ports as a whole. This is accomplished using a new MAP option: PORT_SET.",
      "ja": "ライトウェイト4over6などの一部の使用例では、クライアントは1つのポートだけでなく、ポートセットを必要とする場合があります。このドキュメントでは、クライアントがポートのセット全体を操作できるようにするPort Control Protocol（PCP）の拡張機能を定義します。これは、新しいMAPオプションPORT_SETを使用して実現されます。"
    },
    {
      "indent": 0,
      "text": "Status of This Memo",
      "ja": "本文書の状態"
    },
    {
      "indent": 3,
      "text": "This is an Internet Standards Track document.",
      "ja": "これはInternet Standards Trackドキュメントです。"
    },
    {
      "indent": 3,
      "text": "This document is a product of the Internet Engineering Task Force (IETF). It represents the consensus of the IETF community. It has received public review and has been approved for publication by the Internet Engineering Steering Group (IESG). Further information on Internet Standards is available in Section 2 of RFC 5741.",
      "ja": "このドキュメントは、IETF（Internet Engineering Task Force）の製品です。これは、IETFコミュニティのコンセンサスを表しています。公開レビューを受け、インターネットエンジニアリングステアリンググループ（IESG）による公開が承認されました。インターネット標準の詳細については、RFC 5741のセクション2をご覧ください。"
    },
    {
      "indent": 3,
      "text": "Information about the current status of this document, any errata, and how to provide feedback on it may be obtained at http://www.rfc-editor.org/info/rfc7753.",
      "ja": "このドキュメントの現在のステータス、正誤表、およびフィードバックの提供方法に関する情報は、http：//www.rfc-editor.org/info/rfc7753で入手できます。"
    },
    {
      "indent": 0,
      "text": "Copyright Notice",
      "ja": "著作権表示"
    },
    {
      "indent": 3,
      "text": "Copyright (c) 2016 IETF Trust and the persons identified as the document authors. All rights reserved.",
      "ja": "Copyright（c）2016 IETF Trustおよびドキュメントの作成者として識別された人物。全著作権所有。"
    },
    {
      "indent": 3,
      "text": "This document is subject to BCP 78 and the IETF Trust's Legal Provisions Relating to IETF Documents (http://trustee.ietf.org/license-info) in effect on the date of publication of this document. Please review these documents carefully, as they describe your rights and restrictions with respect to this document. Code Components extracted from this document must include Simplified BSD License text as described in Section 4.e of the Trust Legal Provisions and are provided without warranty as described in the Simplified BSD License.",
      "ja": "この文書は、BCP 78およびIETF文書に関するIETFトラストの法的規定（http://trustee.ietf.org/license-info）の対象であり、この文書の発行日に有効です。これらのドキュメントは、このドキュメントに関するあなたの権利と制限を説明しているため、注意深く確認してください。このドキュメントから抽出されたコードコンポーネントには、Trust Legal Provisionsのセクション4.eに記載されているSimplified BSD Licenseのテキストが含まれている必要があり、Simplified BSD Licenseに記載されているように保証なしで提供されます。"
    },
    {
      "indent": 0,
      "text": "Table of Contents",
      "ja": "目次"
    },
    {
      "indent": 3,
      "text": "1. Introduction ....................................................4\n   1.1. Applications Using Port Sets ...............................4\n   1.2. Lightweight 4over6 .........................................4\n   1.3. Firewall Control ...........................................4\n   1.4. Discovering Stateless Port-Set Mappings ....................5\n2. The Need for PORT_SET ...........................................5\n3. Terminology .....................................................6\n4. The PORT_SET Option .............................................6\n   4.1. Client Behavior ............................................8\n   4.2. Server Behavior ............................................8\n   4.3. Absence of Capability Discovery ............................9\n   4.4. Port-Set Renewal and Deletion .............................10\n        4.4.1. Overlap Conditions .................................10\n5. Examples .......................................................10\n   5.1. Simple Request on Network Address Translator\n        IPv4/IPv4 (NAT44) .........................................10\n   5.2. Stateless Mapping Discovery ...............................12\n   5.3. Resolving Overlap .........................................13\n6. Operational Considerations .....................................13\n   6.1. Limits and Quotas .........................................13\n   6.2. High Availability .........................................13\n   6.3. Idempotence ...............................................13\n   6.4. What should a PCP client do when it receives fewer\n        ports than requested? .....................................15\n7. Security Considerations ........................................15\n8. IANA Considerations ............................................16\n9. References .....................................................16\n   9.1. Normative References ......................................16\n   9.2. Informative References ....................................16\nAcknowledgements ..................................................17\nContributors ......................................................17\nAuthors' Addresses ................................................18",
      "raw": true,
      "toc": true,
      "ja": ""
    },
    {
      "indent": 0,
      "text": "1. Introduction",
      "section_title": true,
      "ja": "1. はじめに"
    },
    {
      "indent": 3,
      "text": "This document extends the Port Control Protocol (PCP) [RFC6887] with the ability to retrieve a set of ports using a single request. It does so by defining a new PORT_SET option.",
      "ja": "このドキュメントは、ポート制御プロトコル（PCP）[RFC6887]を拡張し、単一の要求を使用してポートのセットを取得する機能を備えています。これは、新しいPORT_SETオプションを定義することによって行われます。"
    },
    {
      "indent": 3,
      "text": "This section describes a few of the possible envisioned use cases. Note that the PCP extension defined in this document is generic and is expected to be applicable to other use cases.",
      "ja": "このセクションでは、想定されるいくつかの使用例について説明します。このドキュメントで定義されているPCP拡張機能は一般的なものであり、他の使用例にも適用できると考えられています。"
    },
    {
      "indent": 0,
      "text": "1.1. Applications Using Port Sets",
      "section_title": true,
      "ja": "1.1. ポートセットを使用するアプリケーション"
    },
    {
      "indent": 3,
      "text": "Some applications require not just one port, but a port set. One example is a Session Initiation Protocol (SIP) User Agent Server (UAS) [RFC3261] expecting to handle multiple concurrent calls, including media termination. When the UAS receives a call, it needs to signal media port numbers to its peer. Generating individual PCP MAP requests for each of the media ports during call setup would introduce unwanted latency and increased signaling load. Instead, the server can pre-allocate a set of ports such that no PCP exchange is needed during call setup.",
      "ja": "一部のアプリケーションでは、1つのポートだけでなく、ポートセットも必要です。 1つの例は、メディアターミネーションを含む複数の同時呼び出しを処理することを期待するセッション開始プロトコル（SIP）ユーザーエージェントサーバー（UAS）[RFC3261]です。 UASがコールを受信すると、メディアポート番号をピアにシグナリングする必要があります。コールセットアップ中に各メディアポートに対して個別のPCP MAP要求を生成すると、不要な遅延が発生し、シグナリング負荷が増加します。代わりに、サーバーはポートのセットを事前に割り当てることができるため、コールのセットアップ中にPCP交換は必要ありません。"
    },
    {
      "indent": 0,
      "text": "1.2. Lightweight 4over6",
      "section_title": true,
      "ja": "1.2. 軽量4over6"
    },
    {
      "indent": 3,
      "text": "In the Lightweight 4over6 (lw4o6) [RFC7596] architecture, shared global addresses can be allocated to customers. This allows moving the Network Address Translation (NAT) function, otherwise accomplished by a Carrier-Grade NAT (CGN) [RFC6888], to the Customer Premises Equipment (CPE). This provides more control over the NAT function to the user, and more scalability to the Internet Service Provider (ISP).",
      "ja": "Lightweight 4over6（lw4o6）[RFC7596]アーキテクチャでは、共有グローバルアドレスを顧客に割り当てることができます。これにより、ネットワークアドレス変換（NAT）機能を、それ以外の場合はキャリアグレードNAT（CGN）[RFC6888]によって顧客宅内機器（CPE）に移動できます。これにより、ユーザーはNAT機能をより詳細に制御でき、インターネットサービスプロバイダー（ISP）のスケーラビリティが向上します。"
    },
    {
      "indent": 3,
      "text": "In the lw4o6 architecture, the PCP-controlled device corresponds to the Lightweight Address Family Transition Router (lwAFTR), and the PCP client corresponds to the Lightweight B4 (lwB4). The PCP client sends a PCP MAP request containing a PORT_SET option to trigger shared address allocation on the Lightweight AFTR (lwAFTR). The PCP response contains the shared address information, including the port set allocated to the Lightweight B4 (lwB4).",
      "ja": "lw4o6アーキテクチャでは、PCP制御のデバイスはLightweight Address Family Transition Router（lwAFTR）に対応し、PCPクライアントはLightweight B4（lwB4）に対応します。 PCPクライアントは、PORT_SETオプションを含むPCP MAP要求を送信して、軽量AFTR（lwAFTR）で共有アドレス割り当てをトリガーします。 PCP応答には、Lightweight B4（lwB4）に割り当てられたポートセットを含む共有アドレス情報が含まれています。"
    },
    {
      "indent": 0,
      "text": "1.3. Firewall Control",
      "section_title": true,
      "ja": "1.3. ファイアウォール制御"
    },
    {
      "indent": 3,
      "text": "Port sets are often used in firewall rules. For example, defining a range for Real-time Transport Protocol (RTP) [RFC3550] traffic is common practice. The PCP MAP request can already be used for firewall control. The PORT_SET option brings the additional ability to manipulate firewall rules operating on port sets instead of single ports.",
      "ja": "ポートセットは、ファイアウォールルールでよく使用されます。たとえば、リアルタイムトランスポートプロトコル（RTP）[RFC3550]トラフィックの範囲を定義することは一般的な方法です。 PCP MAP要求はすでにファイアウォール制御に使用できます。 PORT_SETオプションは、単一ポートの代わりにポートセットで動作するファイアウォールルールを操作する追加機能を提供します。"
    },
    {
      "indent": 0,
      "text": "1.4. Discovering Stateless Port-Set Mappings",
      "section_title": true,
      "ja": "1.4. ステートレスポートセットマッピングの検出"
    },
    {
      "indent": 3,
      "text": "A PCP MAP request can be used to retrieve a mapping from a stateless device (i.e., one that does not establish any per-flow state, and simply rewrites the address and/or port in a purely algorithmic fashion, including no rewriting). Similarly, a PCP MAP request with a PORT_SET request can be used to discover a port-set mapping from a stateless device. See Section 5.2 for an example.",
      "ja": "PCP MAP要求を使用して、ステートレスデバイス（つまり、フローごとの状態を確立せず、アドレスやポートを純粋にアルゴリズム的な方法で書き換えるだけで、書き換えを行わない）からマッピングを取得できます。同様に、PORT_SET要求を含むPCP MAP要求を使用して、ステートレスデバイスからポートセットマッピングを検出できます。例については、セクション5.2を参照してください。"
    },
    {
      "indent": 0,
      "text": "2. The Need for PORT_SET",
      "section_title": true,
      "ja": "2. PORT_SETの必要性"
    },
    {
      "indent": 3,
      "text": "Multiple PCP MAP requests can be used to manipulate a set of ports; this has roughly the same effect as a single use of a PCP MAP request with a PORT_SET option. However, use of the PORT_SET option is more efficient when considering the following aspects:",
      "ja": "複数のPCP MAP要求を使用して、ポートのセットを操作できます。これは、PORT_SETオプションを指定したPCP MAP要求の1回の使用とほぼ同じ効果があります。ただし、次の点を考慮すると、PORT_SETオプションを使用する方が効率的です。"
    },
    {
      "indent": 3,
      "text": "Network Traffic: A single request uses fewer network resources than multiple requests.",
      "ja": "ネットワークトラフィック：単一のリクエストは、複数のリクエストよりも少ないネットワークリソースを使用します。"
    },
    {
      "indent": 3,
      "text": "Latency: Even though PCP MAP requests can be sent in parallel, we can expect the total processing time to be longer for multiple requests than for a single one.",
      "ja": "レイテンシ：PCP MAPリクエストを並行して送信できる場合でも、複数のリクエストの合計処理時間は単一のリクエストよりも長くなると予想できます。"
    },
    {
      "indent": 3,
      "text": "Server-side efficiency: Some PCP-controlled devices can allocate port sets in a manner such that data passing through the device is processed much more efficiently than the equivalent using individual port allocations. For example, a CGN having a \"bulk\" port allocation scheme (see [RFC6888], Section 5) often has this property.",
      "ja": "サーバー側の効率：一部のPCP制御デバイスは、デバイスを通過するデータが個別のポート割り当てを使用する同等のものよりもはるかに効率的に処理されるようにポートセットを割り当てることができます。たとえば、「バルク」ポート割り当てスキーム（[RFC6888]、セクション5を参照）を持つCGNには、この特性がよくあります。"
    },
    {
      "indent": 3,
      "text": "Server-side scalability: The number of state table entries in PCP-controlled devices is often a limiting factor. Allocating port sets in a single request can result in a single mapping entry being used, therefore allowing greater scalability.",
      "ja": "サーバー側のスケーラビリティ：PCP制御デバイスのステートテーブルエントリの数は、多くの場合、制限要因です。単一の要求でポートセットを割り当てると、単一のマッピングエントリが使用され、拡張性が向上します。"
    },
    {
      "indent": 3,
      "text": "Therefore, while it is functionally possible to obtain the same results using plain MAP, the extension proposed in this document allows greater efficiency, scalability, and simplicity, while lowering latency and necessary network traffic.",
      "ja": "したがって、機能的にはプレーンなMAPを使用して同じ結果を得ることが可能ですが、このドキュメントで提案されている拡張機能により、レイテンシと必要なネットワークトラフィックを削減しながら、効率、スケーラビリティ、およびシンプルさが向上します。"
    },
    {
      "indent": 3,
      "text": "In addition, PORT_SET supports parity preservation. Some protocols (e.g., RTP [RFC3550]) assign meaning to a port number's parity. When mapping sets of ports for the purpose of using such kind of protocol, preserving parity can be necessary.",
      "ja": "さらに、PORT_SETはパリティ保存をサポートします。一部のプロトコル（RTP [RFC3550]など）は、ポート番号のパリティに意味を割り当てます。このような種類のプロトコルを使用する目的でポートのセットをマッピングする場合、パリティを維持することが必要になる場合があります。"
    },
    {
      "indent": 0,
      "text": "3. Terminology",
      "section_title": true,
      "ja": "3. 用語"
    },
    {
      "indent": 3,
      "text": "The key words \"MUST\", \"MUST NOT\", \"REQUIRED\", \"SHALL\", \"SHALL NOT\", \"SHOULD\", \"SHOULD NOT\", \"RECOMMENDED\", \"MAY\", and \"OPTIONAL\" in this document are to be interpreted as described in [RFC2119].",
      "ja": "このドキュメントのキーワード「MUST」、「MUST NOT」、「REQUIRED」、「SHALL」、「SHALL NOT」、「SHOULD」、「SHOULD NOT」、「RECOMMENDED」、「MAY」、および「OPTIONAL」は、 [RFC2119]で説明されているように解釈されます。"
    },
    {
      "indent": 0,
      "text": "4. The PORT_SET Option",
      "section_title": true,
      "ja": "4. PORT_SETオプション"
    },
    {
      "indent": 3,
      "text": "Option Name: PORT_SET",
      "ja": "オプション名：PORT_SET"
    },
    {
      "indent": 3,
      "text": "Number: 130 (see Section 8)",
      "ja": "番号：130（セクション8を参照）"
    },
    {
      "indent": 3,
      "text": "Purpose: To map sets of ports.",
      "ja": "目的：ポートのセットをマップします。"
    },
    {
      "indent": 3,
      "text": "Valid for Opcodes: MAP",
      "ja": "オペコードに有効：MAP"
    },
    {
      "indent": 3,
      "text": "Length: 5 bytes",
      "ja": "長さ：5バイト"
    },
    {
      "indent": 3,
      "text": "May appear in: Both requests and responses",
      "ja": "表示される可能性がある：リクエストとレスポンスの両方"
    },
    {
      "indent": 3,
      "text": "Maximum occurrences: 1",
      "ja": "最大発生回数：1"
    },
    {
      "indent": 3,
      "text": "The PORT_SET option indicates that the PCP client wishes to reserve a set of ports. The requested number of ports in that set is indicated in the option.",
      "ja": "PORT_SETオプションは、PCPクライアントが一連のポートを予約することを望んでいることを示します。そのセット内の要求されたポート数は、オプションで示されます。"
    },
    {
      "indent": 3,
      "text": "The maximum occurrences of the PORT_SET option MUST be limited to 1. The reason is that the Suggested External Port Set depends on the data contained in the MAP Opcode header. Having two PORT_SET options with a single MAP Opcode header would imply having two overlapping Suggested External Port Sets.",
      "ja": "PORT_SETオプションの最大出現回数は1に制限する必要があります。理由は、推奨外部ポートセットがMAP Opcodeヘッダーに含まれるデータに依存するためです。 1つのMAP Opcodeヘッダーに2つのPORT_SETオプションがある場合、2つの重複する推奨外部ポートセットがあることを意味します。"
    },
    {
      "indent": 3,
      "text": "Note that the option number is in the \"optional to process\" range (128-191), meaning that a PCP MAP request with a PORT_SET option will be interpreted by a PCP server that does not support PORT_SET as a single-port PCP MAP request, as if the PORT_SET option was absent.",
      "ja": "オプション番号は「オプションの処理」範囲（128〜191）であることに注意してください。つまり、PORT_SETオプションを指定したPCP MAP要求は、PORT_SETをサポートしていないPCPサーバーによってシングルポートPCP MAP要求として解釈されます。 、まるでPORT_SETオプションがないかのように。"
    },
    {
      "indent": 3,
      "text": "The PORT_SET option is formatted as shown in Figure 1.",
      "ja": "PORT_SETオプションは、図1に示すようにフォーマットされます。"
    },
    {
      "indent": 3,
      "text": " 0                   1                   2                   3\n 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1\n+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n|Option Code=130|   Reserved    |        Option Length=5        |\n+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n|        Port Set Size          |      First Internal Port      |\n+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n|  Reserved   |P|\n+-+-+-+-+-+-+-+-+",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 25,
      "text": "Figure 1: PORT_SET Option",
      "ja": "図1：PORT_SETオプション"
    },
    {
      "indent": 3,
      "text": "The fields are as follows:",
      "ja": "フィールドは次のとおりです。"
    },
    {
      "indent": 3,
      "text": "Port Set Size: A 16-bit unsigned integer. Number of ports requested. MUST NOT be zero.",
      "ja": "ポートセットサイズ：16ビットの符号なし整数。要求されたポートの数。ゼロであってはなりません。"
    },
    {
      "indent": 3,
      "text": "First Internal Port: In a request, this field MUST be set equal to the Internal Port field in the MAP Opcode by the PCP client. In a response, this field indicates the First Internal Port of the port set mapped by the PCP server, which may differ from the value sent in the request. That is to be contrasted to the Internal Port field, which by necessity is always identical in matched requests and responses.",
      "ja": "最初の内部ポート：要求では、このフィールドは、PCPクライアントによってMAP Opcodeの内部ポートフィールドと等しく設定する必要があります。応答では、このフィールドは、PCPサーバーによってマップされたポートセットの最初の内部ポートを示します。これは、要求で送信された値とは異なる場合があります。これは、一致した要求と応答で常に同じである内部ポートフィールドと対照的です。"
    },
    {
      "indent": 3,
      "text": "Reserved: MUST be set to zero when sending; MUST be ignored when receiving.",
      "ja": "予約済み：送信時にゼロに設定する必要があります。受信時には無視する必要があります。"
    },
    {
      "indent": 3,
      "text": "P (parity bit): 1 if parity preservation is requested; 0 otherwise. See [RFC4787], Section 4.2.2.",
      "ja": "P（パリティビット）：パリティの保存が要求された場合は1。それ以外の場合は0。 [RFC4787]のセクション4.2.2をご覧ください。"
    },
    {
      "indent": 3,
      "text": "Note that Option Code, Reserved, and Option Length are as described in [RFC6887], Section 7.3.",
      "ja": "オプションコード、予約済み、オプションの長さは、[RFC6887]のセクション7.3に記載されているとおりです。"
    },
    {
      "indent": 3,
      "text": "The Internal Port Set is defined as being the range of Port Set Size ports starting from the First Internal Port. The Suggested External Port Set is defined as being the range of Port Set Size ports starting from the Suggested External Port. Similarly, the Assigned External Port Set is defined as being the range of Port Set Size ports starting from the Assigned External Port. The Internal Port Set returned in a response and the Assigned External Port Set have the same size.",
      "ja": "内部ポートセットは、最初の内部ポートから始まるポートセットサイズのポートの範囲として定義されます。推奨外部ポートセットは、推奨外部ポートから始まるポートセットサイズのポートの範囲として定義されます。同様に、割り当てられた外部ポートセットは、割り当てられた外部ポートから始まるポートセットサイズのポートの範囲として定義されます。応答で返された内部ポートセットと割り当てられた外部ポートセットは同じサイズです。"
    },
    {
      "indent": 0,
      "text": " The Suggested External Port corresponds to the first port in the Suggested External Port Set. Its purpose is for clients to be able to regenerate previous mappings after state loss. When such an event happens, clients may attempt to regenerate identical mappings by suggesting the same External Port Set as before the state loss. Note that there is no guarantee that the allocated External Port Set will be the one suggested by the client.",
      "ja": "推奨外部ポートは、推奨外部ポートセットの最初のポートに対応しています。その目的は、状態が失われた後、クライアントが以前のマッピングを再生成できるようにすることです。このようなイベントが発生すると、クライアントは、状態が失われる前と同じ外部ポートセットを提案することにより、同一のマッピングを再生成しようとする場合があります。割り当てられた外部ポートセットがクライアントによって提案されたものである保証はありません。"
    },
    {
      "indent": 0,
      "text": "4.1. Client Behavior",
      "section_title": true,
      "ja": "4.1. クライアントの動作"
    },
    {
      "indent": 3,
      "text": "To retrieve a set of ports, the PCP client adds a PORT_SET option to its PCP MAP request. If parity preservation is required (i.e., an even port to be mapped to an even port and an odd port to be mapped to an odd port), the PCP client MUST set the parity bit (to 1) to ask the PCP server to preserve the port parity.",
      "ja": "ポートのセットを取得するために、PCPクライアントはPCP MAP要求にPORT_SETオプションを追加します。パリティの保持が必要な場合（つまり、偶数ポートを偶数ポートにマップし、奇数ポートを奇数ポートにマップする）、PCPクライアントはパリティビットを（1に）設定して、PCPサーバーに保持を要求する必要があります。ポートのパリティ。"
    },
    {
      "indent": 3,
      "text": "The PCP client MUST NOT include more than one PORT_SET option in a PCP MAP request. If several port sets are needed, the PCP client MUST issue separate PCP MAP requests, each potentially including a PORT_SET option. These individual PCP MAP requests MUST include distinct Internal Ports.",
      "ja": "PCPクライアントは、PCP MAP要求に複数のPORT_SETオプションを含めてはなりません（MUST NOT）。複数のポートセットが必要な場合、PCPクライアントは、それぞれがPORT_SETオプションを含む可能性のある個別のPCP MAP要求を発行する必要があります。これらの個々のPCP MAP要求には、別個の内部ポートを含める必要があります。"
    },
    {
      "indent": 3,
      "text": "If the PCP client does not know the exact number of ports it requires, it MAY then set the Port Set Size to 0xffff, indicating that it is willing to accept as many ports as the PCP server can offer.",
      "ja": "PCPクライアントが必要なポートの正確な数を知らない場合は、ポートセットサイズを0xffffに設定して、PCPサーバーが提供できる最大数のポートを受け入れる用意があることを示します。"
    },
    {
      "indent": 3,
      "text": "A PCP client SHOULD NOT send a PORT_SET option for single-port PCP MAP requests (including creation, renewal, and deletion), because that needlessly increases processing on the server.",
      "ja": "PCPクライアントは、シングルポートPCP MAPリクエスト（作成、更新、削除を含む）に対してPORT_SETオプションを送信してはいけません（SHOULD NOT）。これにより、サーバーでの処理が不必要に増加します。"
    },
    {
      "indent": 3,
      "text": "PREFER_FAILURE MUST NOT appear in a request with a PORT_SET option. As a reminder, PREFER_FAILURE was specifically designed for the Universal Plug and Play (UPnP) Internet Gateway Device - Port Control Protocol Interworking Function (IGD-PCP IWF) [RFC6970]. The reasons for not recommending the use of PREFER_FAILURE are discussed in Section 13.2 of [RFC6887].",
      "ja": "PREFER_FAILUREは、PORT_SETオプションを指定したリクエストに表示してはなりません（MUST NOT）。 PREFER_FAILUREは、ユニバーサルプラグアンドプレイ（UPnP）インターネットゲートウェイデバイス-ポート制御プロトコルインターワーキング機能（IGD-PCP IWF）[RFC6970]用に特別に設計されました。 PREFER_FAILUREの使用を推奨しない理由については、[RFC6887]のセクション13.2で説明しています。"
    },
    {
      "indent": 3,
      "text": "When the PCP-controlled device supports delegation of multiple port sets for a given PCP client, the PCP client MAY re-initiate a PCP request to get another port set when it has exhausted all the ports within the port set.",
      "ja": "PCP制御デバイスが特定のPCPクライアントの複数のポートセットの委任をサポートする場合、PCPクライアントは、ポートセット内のすべてのポートを使い果たしたときに、PCP要求を再開始して別のポートセットを取得できます（MAY）。"
    },
    {
      "indent": 0,
      "text": "4.2. Server Behavior",
      "section_title": true,
      "ja": "4.2. サーバーの動作"
    },
    {
      "indent": 3,
      "text": "In addition to regular PCP MAP request processing, the following checks are made upon receipt of a PORT_SET option with a non-zero Requested Lifetime:",
      "ja": "通常のPCP MAP要求処理に加えて、ゼロ以外の要求ライフタイムを伴うPORT_SETオプションを受信すると、次のチェックが行われます。"
    },
    {
      "indent": 3,
      "text": "o If multiple PORT_SET options are present in a single PCP MAP request, a MALFORMED_OPTION error is returned.",
      "ja": "o 1つのPCP MAP要求に複数のPORT_SETオプションが存在する場合、MALFORMED_OPTIONエラーが返されます。"
    },
    {
      "indent": 3,
      "text": "o If the Port Set Size is zero, a MALFORMED_OPTION error is returned.",
      "ja": "o ポートセットサイズがゼロの場合、MALFORMED_OPTIONエラーが返されます。"
    },
    {
      "indent": 3,
      "text": "o If a PREFER_FAILURE option is present, a MALFORMED_OPTION error is returned.",
      "ja": "o PREFER_FAILUREオプションが存在する場合、MALFORMED_OPTIONエラーが返されます。"
    },
    {
      "indent": 3,
      "text": "The PCP server MAY map fewer ports than the value of Port Set Size from the request. It MUST NOT map more ports than the PCP client asked for. Internal Ports outside the range of Port Set Size ports starting from the Internal Port MUST NOT be mapped by the PCP server.",
      "ja": "PCPサーバーは、リクエストからのポートセットサイズの値よりも少ないポートをマップする場合があります。 PCPクライアントが要求したよりも多くのポートをマップしてはなりません。内部ポートから始まるポートセットサイズポートの範囲外の内部ポートは、PCPサーバーによってマップされてはいけません。"
    },
    {
      "indent": 3,
      "text": "If the requested port set cannot be fully satisfied, the PCP server SHOULD map as many ports as possible and SHOULD map at least one port (which is the same behavior as if Port Set Size is set to 1).",
      "ja": "要求されたポートセットを完全に満たすことができない場合、PCPサーバーは可能な限り多くのポートをマップする必要があり（SHOULD）、少なくとも1つのポートをマップする必要があります（これは、ポートセットサイズが1に設定されている場合と同じ動作です）。"
    },
    {
      "indent": 3,
      "text": "If the PCP server ends up mapping only a single port, for any reason, the PORT_SET option MUST NOT be present in the response. In particular, if the PCP server receives a single-port PCP MAP request that includes a PORT_SET option, the PORT_SET option is silently ignored, and the request is handled as a single-port PCP MAP request.",
      "ja": "PCPサーバーが何らかの理由で単一のポートのみをマッピングしてしまう場合、PORT_SETオプションを応答に含めることはできません。特に、PCPサーバーがPORT_SETオプションを含むシングルポートPCP MAPリクエストを受信した場合、PORT_SETオプションは通知なく無視され、リクエストはシングルポートPCP MAPリクエストとして処理されます。"
    },
    {
      "indent": 3,
      "text": "If the port parity preservation is requested (P = 1), the PCP server MAY preserve port parity. In that case, the External Port is set to a value having the same parity as the First Internal Port.",
      "ja": "ポートパリティの保持が要求された場合（P = 1）、PCPサーバーはポートパリティを保持してもかまいません（MAY）。その場合、外部ポートは、最初の内部ポートと同じパリティを持つ値に設定されます。"
    },
    {
      "indent": 3,
      "text": "If the mapping is successful, the MAP response's Assigned External Port is set to the first port in the External Port Set, and the PORT_SET option's Port Set Size is set to the number of ports in the mapped port set. The First Internal Port field is set to the first port in the Internal Port Set.",
      "ja": "マッピングが成功した場合、MAP応答の割り当てられた外部ポートは、外部ポートセットの最初のポートに設定され、PORT_SETオプションのポートセットサイズは、マッピングされたポートセットのポート数に設定されます。最初の内部ポートフィールドは、内部ポートセットの最初のポートに設定されます。"
    },
    {
      "indent": 0,
      "text": "4.3. Absence of Capability Discovery",
      "section_title": true,
      "ja": "4.3. 能力発見の欠如"
    },
    {
      "indent": 3,
      "text": "A PCP client that wishes to make use of a port set includes the PORT_SET option. If no PORT_SET option is present in the response, the PCP client cannot conclude that the PCP server does not support the PORT_SET option. It may just be that the PCP server does support PORT_SET but decided to allocate only a single port, for reasons that are its own. If the client wishes to obtain more ports, it MAY send additional PCP MAP requests (see Section 6.4), which the PCP server may or may not grant according to local policy.",
      "ja": "ポートセットを使用するPCPクライアントには、PORT_SETオプションが含まれています。応答にPORT_SETオプションが存在しない場合、PCPクライアントは、PCPサーバーがPORT_SETオプションをサポートしていないと結論付けることができません。 PCPサーバーがPORT_SETをサポートしているが、独自の理由により、1つのポートのみを割り当てることにした可能性があります。クライアントがより多くのポートを取得したい場合、クライアントは追加のPCP MAPリクエストを送信してもよい（セクション6.4を参照）。PCPサーバーはローカルポリシーに従って許可する場合としない場合があります。"
    },
    {
      "indent": 3,
      "text": "If port-set capability is added to or removed from a running PCP server, the server MAY reset its Epoch time and send an ANNOUNCE message as described in the PCP specification ([RFC6887], Section 14.1). This causes PCP clients to retry, and those using PORT_SET will now receive a different response.",
      "ja": "実行中のPCPサーバーにポートセット機能が追加または削除された場合、サーバーはエポック時間をリセットして、PCP仕様（[RFC6887]、セクション14.1）の説明に従ってANNOUNCEメッセージを送信できます（MAY）。これにより、PCPクライアントが再試行し、PORT_SETを使用するクライアントは異なる応答を受け取ります。"
    },
    {
      "indent": 0,
      "text": "4.4. Port-Set Renewal and Deletion",
      "section_title": true,
      "ja": "4.4. ポートセットの更新と削除"
    },
    {
      "indent": 3,
      "text": "Port-set mappings are renewed and deleted as a single entity. That is, the lifetime of all port mappings in the set is set to the Assigned Lifetime at once.",
      "ja": "ポートセットマッピングは、単一のエンティティとして更新および削除されます。つまり、セット内のすべてのポートマッピングのライフタイムは、割り当てられたライフタイムに一度に設定されます。"
    },
    {
      "indent": 3,
      "text": "A PCP client attempting to refresh or delete a port-set mapping MUST include the PORT_SET option in its request.",
      "ja": "ポートセットマッピングを更新または削除しようとするPCPクライアントは、リクエストにPORT_SETオプションを含める必要があります。"
    },
    {
      "indent": 0,
      "text": "4.4.1. Overlap Conditions",
      "section_title": true,
      "ja": "4.4.1. オーバーラップ条件"
    },
    {
      "indent": 3,
      "text": "Port-set PCP MAP requests can overlap with existing single-port or port-set mappings. This can happen either by mistake or after a PCP client becomes out of sync with server state.",
      "ja": "ポートセットPCP MAP要求は、既存の単一ポートまたはポートセットマッピングと重複する可能性があります。これは、誤って、またはPCPクライアントがサーバーの状態と同期しなくなった後に発生する可能性があります。"
    },
    {
      "indent": 3,
      "text": "If a PCP server receives a PCP MAP request, with or without a PORT_SET option, that tries to map one or more Internal Ports or port sets belonging to already-existing mappings, then the request is considered to be a refresh request applying those mappings. Each of the matching port or port-set mappings is processed independently, as if a separate refresh request had been received. The processing is as described in Section 15 of [RFC6887]. The PCP server sends a Mapping Update message for each of the mappings.",
      "ja": "PCPサーバーが、PORT_SETオプションの有無にかかわらず、既存のマッピングに属する1つ以上の内部ポートまたはポートセットをマップしようとするPCP MAP要求を受信した場合、その要求は、それらのマッピングを適用する更新要求と見なされます。一致する各ポートまたはポートセットのマッピングは、あたかも個別の更新要求が受信されたかのように、独立して処理されます。処理は[RFC6887]のセクション15に記載されています。 PCPサーバーは、マッピングごとにマッピング更新メッセージを送信します。"
    },
    {
      "indent": 0,
      "text": "5. Examples",
      "section_title": true,
      "ja": "5. 例"
    },
    {
      "indent": 0,
      "text": "5.1. Simple Request on Network Address Translator IPv4/IPv4 (NAT44)",
      "section_title": true,
      "ja": "5.1. ネットワークアドレストランスレータIPv4 / IPv4（NAT44）での単純な要求"
    },
    {
      "indent": 3,
      "text": "An application requires a range of 100 IPv4 UDP ports to be mapped to itself. The application running on the host has created sockets bound to IPv4 UDP ports 50,000 to 50,099 for this purpose. It does not care about which External Port numbers are allocated. The PCP client sends a PCP request with the following parameters over IPv4:",
      "ja": "アプリケーションは、それ自体にマッピングされるIPv4 UDPポートの範囲を必要とします。ホストで実行されているアプリケーションは、この目的でIPv4 UDPポート50,000〜50,099にバインドされたソケットを作成しました。どの外部ポート番号が割り当てられるかは関係ありません。 PCPクライアントは、IPv4を介して次のパラメーターを含むPCP要求を送信します。"
    },
    {
      "indent": 3,
      "text": "o MAP Opcode",
      "ja": "o MAPオペコード"
    },
    {
      "indent": 6,
      "text": "Mapping Nonce:  <a random nonce>",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 6,
      "text": "Protocol: 17",
      "ja": "プロトコル：17"
    },
    {
      "indent": 6,
      "text": "Internal Port: 50,000",
      "ja": "内部ポート：50,000"
    },
    {
      "indent": 6,
      "text": "Suggested External Port: 0",
      "ja": "推奨される外部ポート：0"
    },
    {
      "indent": 6,
      "text": "Suggested External IP Address:  ::ffff:0.0.0.0",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 3,
      "text": "o PORT_SET Option",
      "ja": "o PORT_SETオプション"
    },
    {
      "indent": 6,
      "text": "Port Set Size: 100",
      "ja": "ポートセットサイズ：100"
    },
    {
      "indent": 6,
      "text": "First Internal Port: 50,000",
      "ja": "最初の内部ポート：50,000"
    },
    {
      "indent": 6,
      "text": "P: 0",
      "ja": "P：0"
    },
    {
      "indent": 3,
      "text": "The PCP server is unable to fulfill the request fully: it is configured by local policy to only allocate 32 ports per user. Since the PREFER_FAILURE option is absent from the request, it decides to map UDP ports 37,056 to 37,087 on external address 192.0.2.3 to Internal Ports 50,000 to 50,031. After setting up the mapping in the NAT44 device it controls, it replies with the following PCP response:",
      "ja": "PCPサーバーは要求を完全に満たすことができません。ローカルポリシーによって、ユーザーごとに32ポートのみを割り当てるように構成されています。 PREFER_FAILUREオプションはリクエストにないため、外部アドレス192.0.2.3のUDPポート37,056から37,087を内部ポート50,000から50,031にマッピングすることを決定します。制御するNAT44デバイスでマッピングを設定した後、次のPCP応答で応答します。"
    },
    {
      "indent": 3,
      "text": "o MAP Opcode",
      "ja": "o MAPオペコード"
    },
    {
      "indent": 6,
      "text": "Mapping Nonce:  <copied from the request>",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 6,
      "text": "Protocol: 17",
      "ja": "プロトコル：17"
    },
    {
      "indent": 6,
      "text": "Internal Port: 50,000",
      "ja": "内部ポート：50,000"
    },
    {
      "indent": 6,
      "text": "Assigned External Port: 37,056",
      "ja": "割り当てられた外部ポート：37,056"
    },
    {
      "indent": 6,
      "text": "Assigned External IP Address:  ::ffff:192.0.2.3",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 3,
      "text": "o PORT_SET Option",
      "ja": "o PORT_SETオプション"
    },
    {
      "indent": 6,
      "text": "Port Set Size: 32",
      "ja": "ポートセットサイズ：32"
    },
    {
      "indent": 6,
      "text": "First Internal Port: 50,000",
      "ja": "最初の内部ポート：50,000"
    },
    {
      "indent": 6,
      "text": "P: 0",
      "ja": "P：0"
    },
    {
      "indent": 3,
      "text": "Upon receiving this response, the host decides that 32 ports is good enough for its purposes. It closes sockets bound to ports 50,032 to 50,099, sets up a refresh timer, and starts using the port range it has just been assigned.",
      "ja": "この応答を受信すると、ホストは32ポートで十分であると判断します。ポート50,032から50,099にバインドされたソケットを閉じ、リフレッシュタイマーを設定し、割り当てられたポート範囲の使用を開始します。"
    },
    {
      "indent": 0,
      "text": "5.2. Stateless Mapping Discovery",
      "section_title": true,
      "ja": "5.2. ステートレスマッピングの検出"
    },
    {
      "indent": 3,
      "text": "A host wants to discover a stateless NAT44 mapping pointing to it. To do so, it sends the following request over IPv4:",
      "ja": "ホストは、それを指すステートレスNAT44マッピングを検出したいと考えています。これを行うには、次のリクエストをIPv4経由で送信します。"
    },
    {
      "indent": 3,
      "text": "o MAP Opcode",
      "ja": "o MAPオペコード"
    },
    {
      "indent": 6,
      "text": "Mapping Nonce:  <a random nonce>",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 6,
      "text": "Protocol: 0",
      "ja": "プロトコル：0"
    },
    {
      "indent": 6,
      "text": "Internal Port: 1",
      "ja": "内部ポート：1"
    },
    {
      "indent": 6,
      "text": "Suggested External Port: 0",
      "ja": "推奨される外部ポート：0"
    },
    {
      "indent": 6,
      "text": "Suggested External IP Address:  ::ffff:0.0.0.0",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 3,
      "text": "o PORT_SET Option",
      "ja": "o PORT_SETオプション"
    },
    {
      "indent": 6,
      "text": "Port Set Size: 65,535",
      "ja": "ポートセットサイズ：65,535"
    },
    {
      "indent": 6,
      "text": "First Internal Port: 1",
      "ja": "最初の内部ポート：1"
    },
    {
      "indent": 6,
      "text": "P: 0",
      "ja": "P：0"
    },
    {
      "indent": 3,
      "text": "The PCP server sends the following response:",
      "ja": "PCPサーバーは次の応答を送信します。"
    },
    {
      "indent": 3,
      "text": "o MAP Opcode",
      "ja": "o MAPオペコード"
    },
    {
      "indent": 6,
      "text": "Mapping Nonce:  <copied from the request>",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 6,
      "text": "Protocol: 0",
      "ja": "プロトコル：0"
    },
    {
      "indent": 6,
      "text": "Internal Port: 1",
      "ja": "内部ポート：1"
    },
    {
      "indent": 6,
      "text": "Assigned External Port: 26,624",
      "ja": "割り当てられた外部ポート：26,624"
    },
    {
      "indent": 6,
      "text": "Assigned External IP Address:  ::ffff:192.0.2.5",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 3,
      "text": "o PORT_SET Option",
      "ja": "o PORT_SETオプション"
    },
    {
      "indent": 6,
      "text": "Port Set Size: 2048",
      "ja": "ポートセットサイズ：2048"
    },
    {
      "indent": 6,
      "text": "First Internal Port: 26,624",
      "ja": "最初の内部ポート：26,624"
    },
    {
      "indent": 6,
      "text": "P: 0",
      "ja": "P：0"
    },
    {
      "indent": 3,
      "text": "From this response, the host understands that a 2048-port stateless mapping is pointing to itself, starting from port 26,624 on external IP address 192.0.2.5.",
      "ja": "この応答から、ホストは、2048ポートのステートレスマッピングが外部IPアドレス192.0.2.5のポート26,624から始まり、それ自体を指していることを理解します。"
    },
    {
      "indent": 0,
      "text": "5.3. Resolving Overlap",
      "section_title": true,
      "ja": "5.3. オーバーラップの解決"
    },
    {
      "indent": 3,
      "text": "This example relates to Section 4.4.1.",
      "ja": "この例は、セクション4.4.1に関連しています。"
    },
    {
      "indent": 3,
      "text": "Suppose Internal Port 100 is mapped to External Port 100 and port set 101-199 is mapped to External Port Set 201-299. The PCP server receives a PCP MAP request with Internal Port = 100, External Port = 0, and a PORT_SET option with Port Set Size = 100. The request's Mapping Nonce is equal to those of the existing single-port and port-set mappings. This request is therefore treated as two refresh requests, the first one applying to the single-port mapping and the second one applying to the port-set mapping. The PCP server updates the lifetimes of both mappings as usual and then sends two responses: the first one contains Internal Port = 100, External Port = 100, and no PORT_SET option, while the second one contains Internal Port = 101, External Port = 201, and a PORT_SET option with Port Set Size = 99.",
      "ja": "内部ポート100が外部ポート100にマップされ、ポートセット101-199が外部ポートセット201-299にマップされているとします。 PCPサーバーは、内部ポート= 100、外部ポート= 0のPCP MAP要求、およびポートセットサイズ= 100のPORT_SETオプションを受信します。要求のマッピングナンスは、既存の単一ポートおよびポートセットマッピングのものと同じです。したがって、この要求は2つの更新要求として扱われ、最初の要求は単一ポートマッピングに適用され、2番目の要求はポートセットマッピングに適用されます。 PCPサーバーは通常どおり両方のマッピングのライフタイムを更新し、2つの応答を送信します。最初の1つは内部ポート= 100、外部ポート= 100を含み、PORT_SETオプションはありませんが、2つ目は内部ポート= 101、外部ポート= 201を含みます。 、およびポートセットサイズ= 99のPORT_SETオプション。"
    },
    {
      "indent": 0,
      "text": "6. Operational Considerations",
      "section_title": true,
      "ja": "6. 運用上の考慮事項"
    },
    {
      "indent": 0,
      "text": "6.1. Limits and Quotas",
      "section_title": true,
      "ja": "6.1. 制限と割り当て"
    },
    {
      "indent": 3,
      "text": "It is up to the PCP server to determine the port-set quota, if any, for each PCP client.",
      "ja": "各PCPクライアントのポートセットクォータを決定するのは、PCPサーバーです。"
    },
    {
      "indent": 3,
      "text": "If the PCP server is configured to allocate multiple port-set allocations for one subscriber, the same Assigned External IP Address SHOULD be assigned to the subscriber in multiple port-set responses.",
      "ja": "PCPサーバーが1つのサブスクライバーに複数のポートセット割り当てを割り当てるように構成されている場合、同じ割り当て済み外部IPアドレスを複数のポートセット応答でサブスクライバーに割り当てる必要があります（SHOULD）。"
    },
    {
      "indent": 3,
      "text": "To optimize the number of mapping entries maintained by the PCP server, it is RECOMMENDED to configure the PCP server to assign the maximum allowed Port Set Size in a single response. This policy SHOULD be configurable.",
      "ja": "PCPサーバーによって維持されるマッピングエントリの数を最適化するには、単一の応答で最大許容ポートセットサイズを割り当てるようにPCPサーバーを構成することをお勧めします。このポリシーは構成可能である必要があります。"
    },
    {
      "indent": 0,
      "text": "6.2. High Availability",
      "section_title": true,
      "ja": "6.2. 高可用性"
    },
    {
      "indent": 3,
      "text": "The failover mechanism in MAP (Section 14 of [RFC6887]) can also be applied to port sets.",
      "ja": "MAPのフェイルオーバーメカニズム（[RFC6887]のセクション14）は、ポートセットにも適用できます。"
    },
    {
      "indent": 0,
      "text": "6.3. Idempotence",
      "section_title": true,
      "ja": "6.3. べき等"
    },
    {
      "indent": 0,
      "text": " A core, desirable property of PCP is idempotence. In a nutshell, requests produce the same results whether they are executed once or multiple times. This property is preserved with the PORT_SET option, with the following caveat: the order in which the PCP server receives requests with overlapping Internal Port Sets will affect the mappings being created and the responses received.",
      "ja": "PCPのコアで望ましい特性は、べき等です。簡単に言えば、リクエストは、1回実行されても、複数回実行されても、同じ結果を生成します。このプロパティはPORT_SETオプションで保持されますが、次の点に注意してください。PCPサーバーが重複する内部ポートセットを含む要求を受信する順序は、作成されるマッピングと受信される応答に影響します。"
    },
    {
      "indent": 3,
      "text": "For example, suppose these two requests are sent by a PCP client:",
      "ja": "たとえば、次の2つの要求がPCPクライアントによって送信されたとします。"
    },
    {
      "indent": 3,
      "text": "Request A: Internal Port Set 1-10",
      "ja": "リクエストA：内部ポートセット1〜10"
    },
    {
      "indent": 3,
      "text": "Request B: Internal Port Set 5-14",
      "ja": "リクエストB：内部ポートセット5-14"
    },
    {
      "indent": 3,
      "text": "The PCP server's actions will depend on which request is received first. Suppose that A is received before B:",
      "ja": "PCPサーバーのアクションは、最初に受信した要求によって異なります。 AがBの前に受信されたとします。"
    },
    {
      "indent": 3,
      "text": "Upon reception of A: Internal Ports 1-10 are mapped. A success response containing the following fields is sent:",
      "ja": "Aを受信すると、内部ポート1〜10がマッピングされます。以下のフィールドを含む成功応答が送信されます。"
    },
    {
      "indent": 6,
      "text": "Internal Port: 1",
      "ja": "内部ポート：1"
    },
    {
      "indent": 6,
      "text": "First Internal Port: 1",
      "ja": "最初の内部ポート：1"
    },
    {
      "indent": 6,
      "text": "Port Set Size: 10",
      "ja": "ポートセットサイズ：10"
    },
    {
      "indent": 3,
      "text": "Upon reception of B: The request matches mapping A. The request is interpreted as a refresh request for mapping A, and a response containing the following fields is sent:",
      "ja": "Bの受信時：要求はマッピングAと一致します。この要求はマッピングAの更新要求として解釈され、次のフィールドを含む応答が送信されます。"
    },
    {
      "indent": 6,
      "text": "Internal Port: 5",
      "ja": "内部ポート：5"
    },
    {
      "indent": 6,
      "text": "First Internal Port: 1",
      "ja": "最初の内部ポート：1"
    },
    {
      "indent": 6,
      "text": "Port Set Size: 10",
      "ja": "ポートセットサイズ：10"
    },
    {
      "indent": 3,
      "text": "If the order of reception is reversed (B before A), the created mapping will be different, and the First Internal Port in both responses would then be 5.",
      "ja": "受信の順序が逆の場合（BがAの前）、作成されるマッピングは異なり、両方の応答の最初の内部ポートは5になります。"
    },
    {
      "indent": 3,
      "text": "To avoid surprises, PCP clients MUST ensure that port-set mapping requests do not inadvertently overlap. For example, a host's operating system could include a central PCP client process through which port-set mapping requests would be arbitrated. Alternatively, individual PCP clients running on the same host would be required to acquire the Internal Ports from the operating system (e.g., a call to the bind() function from the BSD API) before trying to map them with PCP.",
      "ja": "予期せぬ事態を避けるために、PCPクライアントは、ポートセットのマッピング要求が誤って重複しないようにする必要があります。たとえば、ホストのオペレーティングシステムには、ポートセットマッピング要求の調停を行う中央のPCPクライアントプロセスを含めることができます。または、同じホストで実行されている個々のPCPクライアントは、PCPでマッピングする前に、オペレーティングシステムから内部ポートを取得する必要があります（BSD APIからのbind()関数の呼び出しなど）。"
    },
    {
      "indent": 0,
      "text": "6.4. What should a PCP client do when it receives fewer ports than requested?",
      "ja": "6.4. PCPクライアントが要求した数より少ないポートを受信した場合、PCPクライアントは何をすべきですか？"
    },
    {
      "indent": 3,
      "text": "Suppose a PCP client asks for 16 ports and receives 8. What should it do? Should it consider this a final answer? Should it try a second request, asking for 8 more ports? Should it fall back to 8 individual PCP MAP requests? This document leaves the answers to be implementation specific but describes issues to be considered when answering them.",
      "ja": "PCPクライアントが16個のポートを要求し、8個を受信するとします。どうすればよいですか？これを最終的な回答と見なす必要がありますか？さらに8つのポートを要求する2番目の要求を試行する必要がありますか？ 8つの個別のPCP MAPリクエストにフォールバックする必要がありますか？このドキュメントでは、回答は実装固有のものですが、回答する際に考慮すべき問題について説明しています。"
    },
    {
      "indent": 3,
      "text": "First, the PCP server has decided to allocate 8 ports for some reason. It may be that allocation sizes have been limited by the PCP server's administrator. It may be that the PCP client has reached a quota. It may be that these 8 ports were the last contiguous ones available. Depending on the reason, asking for more ports may or may not be likely to actually yield more ports. However, the PCP client has no way of knowing.",
      "ja": "最初に、PCPサーバーは何らかの理由で8つのポートを割り当てることを決定しました。 PCPサーバーの管理者によって割り当てサイズが制限されている可能性があります。 PCPクライアントが割り当てに達した可能性があります。これらの8つのポートが、使用可能な最後の連続したポートであった可能性があります。理由に応じて、より多くのポートを要求しても、実際にはより多くのポートが生成される可能性があります。ただし、PCPクライアントは知る方法がありません。"
    },
    {
      "indent": 3,
      "text": "Second, not all PCP clients asking for N ports actually need all N ports to function correctly. For example, a DNS resolver could ask for N ports to be used for source-port randomization. If fewer than N ports are received, the DNS resolver will still work correctly, but source-port randomization will be slightly less efficient, having fewer bits to play with. In that case, it would not make much sense to ask for more ports.",
      "ja": "次に、Nポートを要求するすべてのPCPクライアントが実際にすべてのNポートを正しく機能させる必要があるわけではありません。たとえば、DNSリゾルバは、送信元ポートのランダム化に使用されるNポートを要求することができます。受信するポート数がN未満の場合でも、DNSリゾルバーは正しく機能しますが、ソースポートのランダム化は少し効率が悪くなり、操作するビットが少なくなります。その場合、より多くのポートを要求することはあまり意味がありません。"
    },
    {
      "indent": 3,
      "text": "Finally, asking for more ports could be considered abuse. External Ports are a resource that is to be shared among multiple PCP clients. A PCP client trying to obtain more than its fair share could trigger countermeasures according to local policy.",
      "ja": "最後に、より多くのポートを要求することは、乱用と見なされる可能性があります。外部ポートは、複数のPCPクライアント間で共有されるリソースです。 PCPクライアントがフェアシェアを超えて取得しようとすると、ローカルポリシーに従って対策がトリガーされる可能性があります。"
    },
    {
      "indent": 3,
      "text": "In conclusion, it is expected that, for most applications, asking for more ports would not yield benefits justifying the additional costs.",
      "ja": "結論として、ほとんどのアプリケーションでは、より多くのポートを要求しても、追加のコストを正当化するメリットは得られないことが予想されます。"
    },
    {
      "indent": 0,
      "text": "7. Security Considerations",
      "section_title": true,
      "ja": "7. セキュリティに関する考慮事項"
    },
    {
      "indent": 3,
      "text": "The security considerations discussed in [RFC6887] apply to this extension.",
      "ja": "[RFC6887]で説明されているセキュリティの考慮事項は、この拡張機能に適用されます。"
    },
    {
      "indent": 3,
      "text": "As described in Section 4.4.1, a single PCP request using the PORT_SET option may result in multiple responses. For this to happen, it is necessary that the request contain the nonce associated with multiple mappings on the server. Therefore, an on-path attacker could use an eavesdropped nonce to mount an amplification attack. Use of PCP authentication ([RFC6887], Section 18) eliminates this attack vector.",
      "ja": "セクション4.4.1で説明されているように、PORT_SETオプションを使用した単一のPCP要求は、複数の応答になる可能性があります。これを行うには、リクエストにサーバー上の複数のマッピングに関連付けられたナンスが含まれている必要があります。したがって、パス上の攻撃者は盗聴されたナンスを使用して増幅攻撃を仕掛けることができます。 PCP認証（[RFC6887]、セクション18）を使用すると、この攻撃経路が排除されます。"
    },
    {
      "indent": 3,
      "text": "In order to prevent a PCP client from controlling all ports bound to a shared IP address, port quotas should be configured on the PCP server (Section 17.2 of [RFC6887]).",
      "ja": "PCPクライアントが共有IPアドレスにバインドされているすべてのポートを制御できないようにするには、PCPサーバーでポートクォータを構成する必要があります（[RFC6887]のセクション17.2）。"
    },
    {
      "indent": 0,
      "text": "8. IANA Considerations",
      "section_title": true,
      "ja": "8. IANAに関する考慮事項"
    },
    {
      "indent": 3,
      "text": "IANA has allocated value 130 in the \"PCP Options\" registry at <http://www.iana.org/assignments/pcp-parameters> for the new PCP option defined in Section 4.",
      "ja": "IANAは、<http://www.iana.org/assignments/pcp-parameters>の「PCPオプション」レジストリで、セクション4で定義された新しいPCPオプションに値130を割り当てました。"
    },
    {
      "indent": 0,
      "text": "9. References",
      "section_title": true,
      "ja": "9. 参考文献"
    },
    {
      "indent": 0,
      "text": "9.1. Normative References",
      "section_title": true,
      "ja": "9.1. 引用文献"
    },
    {
      "indent": 3,
      "text": "[RFC2119] Bradner, S., \"Key words for use in RFCs to Indicate Requirement Levels\", BCP 14, RFC 2119, DOI 10.17487/RFC2119, March 1997, <http://www.rfc-editor.org/info/rfc2119>.",
      "ja": "[RFC2119] Bradner、S。、「要件レベルを示すためにRFCで使用するキーワード」、BCP 14、RFC 2119、DOI 10.17487 / RFC2119、1997年3月、<http://www.rfc-editor.org/info/ rfc2119>。"
    },
    {
      "indent": 3,
      "text": "[RFC6887] Wing, D., Ed., Cheshire, S., Boucadair, M., Penno, R., and P. Selkirk, \"Port Control Protocol (PCP)\", RFC 6887, DOI 10.17487/RFC6887, April 2013, <http://www.rfc-editor.org/info/rfc6887>.",
      "ja": "[RFC6887] Wing、D.、Ed。、Cheshire、S.、Boucadair、M.、Penno、R。、およびP. Selkirk、「Port Control Protocol（PCP）」、RFC 6887、DOI 10.17487 / RFC6887、2013年4月、<http://www.rfc-editor.org/info/rfc6887>。"
    },
    {
      "indent": 0,
      "text": "9.2. Informative References",
      "section_title": true,
      "ja": "9.2. 参考引用"
    },
    {
      "indent": 3,
      "text": "[RFC3261] Rosenberg, J., Schulzrinne, H., Camarillo, G., Johnston, A., Peterson, J., Sparks, R., Handley, M., and E. Schooler, \"SIP: Session Initiation Protocol\", RFC 3261, DOI 10.17487/RFC3261, June 2002, <http://www.rfc-editor.org/info/rfc3261>.",
      "ja": "[RFC3261] Rosenberg、J.、Schulzrinne、H.、Camarillo、G.、Johnston、A.、Peterson、J.、Sparks、R.、Handley、M。、およびE. Schooler、「SIP：Session Initiation Protocol」 、RFC 3261、DOI 10.17487 / RFC3261、2002年6月、<http://www.rfc-editor.org/info/rfc3261>。"
    },
    {
      "indent": 3,
      "text": "[RFC3550] Schulzrinne, H., Casner, S., Frederick, R., and V. Jacobson, \"RTP: A Transport Protocol for Real-Time Applications\", STD 64, RFC 3550, DOI 10.17487/RFC3550, July 2003, <http://www.rfc-editor.org/info/rfc3550>.",
      "ja": "[RFC3550] Schulzrinne、H.、Casner、S.、Frederick、R。、およびV. Jacobson、「RTP：A Transport Protocol for Real-Time Applications」、STD 64、RFC 3550、DOI 10.17487 / RFC3550、2003年7月、 <http://www.rfc-editor.org/info/rfc3550>。"
    },
    {
      "indent": 3,
      "text": "[RFC4787] Audet, F., Ed. and C. Jennings, \"Network Address Translation (NAT) Behavioral Requirements for Unicast UDP\", BCP 127, RFC 4787, DOI 10.17487/RFC4787, January 2007, <http://www.rfc-editor.org/info/rfc4787>.",
      "ja": "[RFC4787]オーデ、F、エド。およびC.ジェニングス、「ユニキャストUDPのネットワークアドレス変換（NAT）動作要件」、BCP 127、RFC 4787、DOI 10.17487 / RFC4787、2007年1月、<http://www.rfc-editor.org/info/rfc4787> 。"
    },
    {
      "indent": 3,
      "text": "[RFC6888] Perreault, S., Ed., Yamagata, I., Miyakawa, S., Nakagawa, A., and H. Ashida, \"Common Requirements for Carrier-Grade NATs (CGNs)\", BCP 127, RFC 6888, DOI 10.17487/RFC6888, April 2013, <http://www.rfc-editor.org/info/rfc6888>.",
      "ja": "[RFC6888] Perreault、S.、Ed。、Yamagata、I.、Miyakawa、S.、Nakagawa、A.、and H. Ashida、 \"Common Requirements for Carrier-Grade NATs（CGNs）\"、BCP 127、RFC 6888、 DOI 10.17487 / RFC6888、2013年4月、<http://www.rfc-editor.org/info/rfc6888>。"
    },
    {
      "indent": 3,
      "text": "[RFC6970] Boucadair, M., Penno, R., and D. Wing, \"Universal Plug and Play (UPnP) Internet Gateway Device - Port Control Protocol Interworking Function (IGD-PCP IWF)\", RFC 6970, DOI 10.17487/RFC6970, July 2013, <http://www.rfc-editor.org/info/rfc6970>.",
      "ja": "[RFC6970] Boucadair、M.、Penno、R。、およびD. Wing、「ユニバーサルプラグアンドプレイ（UPnP）インターネットゲートウェイデバイス-ポート制御プロトコルインターワーキング機能（IGD-PCP IWF）」、RFC 6970、DOI 10.17487 / RFC6970 、2013年7月、<http://www.rfc-editor.org/info/rfc6970>。"
    },
    {
      "indent": 3,
      "text": "[RFC7596] Cui, Y., Sun, Q., Boucadair, M., Tsou, T., Lee, Y., and I. Farrer, \"Lightweight 4over6: An Extension to the Dual-Stack Lite Architecture\", RFC 7596, DOI 10.17487/RFC7596, July 2015, <http://www.rfc-editor.org/info/rfc7596>.",
      "ja": "[RFC7596] Cui、Y.、Sun、Q.、Boucadair、M.、Tsou、T.、Lee、Y.、I。Farrer、「Lightweight 4over6：An Extension to the Dual-Stack Lite Architecture」、RFC 7596 、DOI 10.17487 / RFC7596、2015年7月、<http://www.rfc-editor.org/info/rfc7596>。"
    },
    {
      "indent": 0,
      "text": "Acknowledgements",
      "ja": "謝辞"
    },
    {
      "indent": 3,
      "text": "The authors would like to express sincere appreciation to Alain Durand, Cong Liu, Dan Wing, Dave Thaler, Peter Koch, Reinaldo Penno, Sam Hartman, Stuart Cheshire, Ted Lemon, Yoshihiro Ohba, Meral Shirazipour, Jouni Korhonen, and Ben Campbell for their useful comments and suggestions.",
      "ja": "著者は、アランデュラン、コンリュー、ダンウィング、デイブターラー、ピーターコッホ、レイナルドペンノ、サムハートマン、スチュアートチェシャー、テッドレモン、大場義博、メラルシラジプール、ジョウニコロホネン、ベンキャンベルに心から感謝の意を表したいと思います。役立つコメントと提案。"
    },
    {
      "indent": 0,
      "text": "Contributors",
      "ja": "貢献者"
    },
    {
      "indent": 3,
      "text": "The following individuals contributed to this document:",
      "ja": "以下の個人がこの文書に貢献しました："
    },
    {
      "indent": 3,
      "text": "Yunqing Chen China Telecom Room 502, No.118, Xizhimennei Street Beijing 100035 China",
      "ja": "Yunqing Chen China 100035中国北京Xizhimennei StreetのNo.118、502テレコムルーム"
    },
    {
      "indent": 3,
      "text": "Chongfeng Xie China Telecom Room 502, No.118, Xizhimennei Street Beijing 100035 China",
      "ja": "CレッドメープルX IEチャイナテレコムルーム502、No.118、ξzhimen通り北京100035中国"
    },
    {
      "indent": 3,
      "text": "Yong Cui Tsinghua University Beijing 100084 China",
      "ja": "Yong Cu ITS inghuauniversity北京100084中国"
    },
    {
      "indent": 0,
      "text": " Phone: +86-10-62603059 Email: yong@csnet1.cs.tsinghua.edu.cn Qi Sun Tsinghua University Beijing 100084 China",
      "ja": "電話：+ 86-10-62603059メール：yong@csnet1.cs.tsinghua.edu.cn Qi Sun Tsinghua University Beijing 100084 China"
    },
    {
      "indent": 3,
      "text": "Phone: +86-10-62785822\nEmail: sunqibupt@gmail.com",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 3,
      "text": "Gabor Bajko Mediatek Inc.",
      "ja": "Gabor Bajko Mediatek Inc."
    },
    {
      "indent": 3,
      "text": "Email: gabor.bajko@mediatek.com",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 3,
      "text": "Xiaohong Deng France Telecom",
      "ja": "ξAO Red D鞥Franceテレコム"
    },
    {
      "indent": 3,
      "text": "Email: xiaohong.deng@orange-ftgroup.com",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 0,
      "text": "Authors' Addresses",
      "ja": "著者のアドレス"
    },
    {
      "indent": 3,
      "text": "Qiong Sun China Telecom China",
      "ja": "Qiong Sun China Telecom China"
    },
    {
      "indent": 3,
      "text": "Phone: 86 10 58552936 Email: sunqiong@ctbri.com.cn",
      "ja": "電話：86 10 58552936メール：sunqiong@ctbri.com.cn"
    },
    {
      "indent": 3,
      "text": "Mohamed Boucadair France Telecom Rennes 35000 France",
      "ja": "Mohamed Boucadair France Telecom Rennes 35000 France"
    },
    {
      "indent": 3,
      "text": "Email: mohamed.boucadair@orange.com",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 3,
      "text": "Senthil Sivakumar Cisco Systems 7100-8 Kit Creek Road Research Triangle Park, NC 27709 United States",
      "ja": "Senthil Sivakumar Cisco Systems 7100-8 Kit Creek Road Research Triangle Park、NC 27709アメリカ合衆国"
    },
    {
      "indent": 0,
      "text": " Phone: +1 919 392 5158 Email: ssenthil@cisco.com Cathy Zhou Huawei Technologies Bantian, Longgang District Shenzhen 518129 China",
      "ja": "電話：+1 919 392 5158メール：Sensen too Hi@Cisco.com Cathy Zhou hu Aはテクノロジー禁止の日であり、長いギャング地区は非常に現実的です518129中国"
    },
    {
      "indent": 3,
      "text": "Email: cathy.zhou@huawei.com",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 3,
      "text": "Tina Tsou Philips Lighting 3 Burlington Woods Dr #4t Burlington, MA 01803 United States",
      "ja": "Tina Tsou Philips Lighting 3 Burlington Woods Dr＃4t Burlington、MA 01803アメリカ"
    },
    {
      "indent": 3,
      "text": "Phone: +1 617-423-9999\nEmail: tina.tsou@philips.com",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 3,
      "text": "Simon Perreault Jive Communications Quebec, QC Canada",
      "ja": "Simon Perreault Jive Communicationsケベック州、QCカナダ"
    },
    {
      "indent": 3,
      "text": "Email: sperreault@jive.com",
      "raw": true,
      "ja": ""
    }
  ]
}